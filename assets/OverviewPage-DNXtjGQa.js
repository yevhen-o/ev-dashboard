import{R as wt,I as Qt,r as ut,a as wo,_ as xo,b as mn,c as Rt,u as xa,d as bo,F as _n,s as Ee,e as Me,j,f as ba,N as Pa,g as qt,h as La,i as Po,k as Lo,l as Sa,m as ni,n as ri,B as gn,o as Ei,p as So,q as To,t as Ta,L as Ca,v as Vt,w as Co,x as ce,y as Oa,z as Ea,A as Ma,C as Oo,D as Eo,E as za,G as Ra}from"./index-DEyAMT43.js";var Er,Mr,zr,Rr;const Da=wt.forwardRef(function(n,a){let{children:l,size:u=16,...d}=n;return u===16||u==="16"||u==="16px"?wt.createElement(Qt,{width:u,height:u,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...d},Er||(Er=wt.createElement("path",{d:"M12.3 9.3L8.5 13.1 8.5 1 7.5 1 7.5 13.1 3.7 9.3 3 10 8 15 13 10z"})),l):wt.createElement(Qt,{width:u,height:u,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...d},Mr||(Mr=wt.createElement("path",{d:"M24.59 16.59L17 24.17 17 4 15 4 15 24.17 7.41 16.59 6 18 16 28 26 18 24.59 16.59z"})),l)}),ka=wt.forwardRef(function(n,a){let{children:l,size:u=16,...d}=n;return u===16||u==="16"||u==="16px"?wt.createElement(Qt,{width:u,height:u,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...d},zr||(zr=wt.createElement("path",{d:"M3.7 6.7L7.5 2.9 7.5 15 8.5 15 8.5 2.9 12.3 6.7 13 6 8 1 3 6z"})),l):wt.createElement(Qt,{width:u,height:u,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...d},Rr||(Rr=wt.createElement("path",{d:"M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"})),l)});var Dr,kr,Ir;const Ia=wt.forwardRef(function(n,a){let{children:l,size:u=16,...d}=n;return wt.createElement(Qt,{width:u,height:u,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...d},Dr||(Dr=wt.createElement("path",{d:"M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4ZM6,26V6H26V26Z"})),l)}),Aa=wt.forwardRef(function(n,a){let{children:l,size:u=16,...d}=n;return wt.createElement(Qt,{width:u,height:u,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...d},kr||(kr=wt.createElement("path",{d:"M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4ZM6,26V6H26V26Z"})),Ir||(Ir=wt.createElement("path",{d:"M14 21.5L9 16.54 10.59 15 14 18.35 21.41 11 23 12.58 14 21.5z"})),l)});var Ar;const Ba=wt.forwardRef(function(n,a){let{children:l,size:u=16,...d}=n;return wt.createElement(Qt,{width:u,height:u,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...d},Ar||(Ar=wt.createElement("path",{d:"M12 4H6A2 2 0 004 6v6a2 2 0 002 2h6a2 2 0 002-2V6A2 2 0 0012 4zm0 8H6V6h6zM26 4H20a2 2 0 00-2 2v6a2 2 0 002 2h6a2 2 0 002-2V6A2 2 0 0026 4zm0 8H20V6h6zM12 18H6a2 2 0 00-2 2v6a2 2 0 002 2h6a2 2 0 002-2V20A2 2 0 0012 18zm0 8H6V20h6zM26 18H20a2 2 0 00-2 2v6a2 2 0 002 2h6a2 2 0 002-2V20A2 2 0 0026 18zm0 8H20V20h6z"})),l)});var Br,Nr,Zr,Hr;const Mo=wt.forwardRef(function(n,a){let{children:l,size:u=16,...d}=n;return u===16||u==="16"||u==="16px"?wt.createElement(Qt,{width:u,height:u,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...d},Br||(Br=wt.createElement("path",{d:"M13.5,8.4c0-0.1,0-0.3,0-0.4c0-0.1,0-0.3,0-0.4l1-0.8c0.4-0.3,0.4-0.9,0.2-1.3l-1.2-2C13.3,3.2,13,3,12.6,3 c-0.1,0-0.2,0-0.3,0.1l-1.2,0.4c-0.2-0.1-0.4-0.3-0.7-0.4l-0.3-1.3C10.1,1.3,9.7,1,9.2,1H6.8c-0.5,0-0.9,0.3-1,0.8L5.6,3.1 C5.3,3.2,5.1,3.3,4.9,3.4L3.7,3C3.6,3,3.5,3,3.4,3C3,3,2.7,3.2,2.5,3.5l-1.2,2C1.1,5.9,1.2,6.4,1.6,6.8l0.9,0.9c0,0.1,0,0.3,0,0.4 c0,0.1,0,0.3,0,0.4L1.6,9.2c-0.4,0.3-0.5,0.9-0.2,1.3l1.2,2C2.7,12.8,3,13,3.4,13c0.1,0,0.2,0,0.3-0.1l1.2-0.4 c0.2,0.1,0.4,0.3,0.7,0.4l0.3,1.3c0.1,0.5,0.5,0.8,1,0.8h2.4c0.5,0,0.9-0.3,1-0.8l0.3-1.3c0.2-0.1,0.4-0.2,0.7-0.4l1.2,0.4 c0.1,0,0.2,0.1,0.3,0.1c0.4,0,0.7-0.2,0.9-0.5l1.1-2c0.2-0.4,0.2-0.9-0.2-1.3L13.5,8.4z M12.6,12l-1.7-0.6c-0.4,0.3-0.9,0.6-1.4,0.8 L9.2,14H6.8l-0.4-1.8c-0.5-0.2-0.9-0.5-1.4-0.8L3.4,12l-1.2-2l1.4-1.2c-0.1-0.5-0.1-1.1,0-1.6L2.2,6l1.2-2l1.7,0.6 C5.5,4.2,6,4,6.5,3.8L6.8,2h2.4l0.4,1.8c0.5,0.2,0.9,0.5,1.4,0.8L12.6,4l1.2,2l-1.4,1.2c0.1,0.5,0.1,1.1,0,1.6l1.4,1.2L12.6,12z"})),Nr||(Nr=wt.createElement("path",{d:"M8,11c-1.7,0-3-1.3-3-3s1.3-3,3-3s3,1.3,3,3C11,9.6,9.7,11,8,11C8,11,8,11,8,11z M8,6C6.9,6,6,6.8,6,7.9C6,7.9,6,8,6,8 c0,1.1,0.8,2,1.9,2c0,0,0.1,0,0.1,0c1.1,0,2-0.8,2-1.9c0,0,0-0.1,0-0.1C10,6.9,9.2,6,8,6C8.1,6,8,6,8,6z"})),l):wt.createElement(Qt,{width:u,height:u,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...d},Zr||(Zr=wt.createElement("path",{d:"M27,16.76c0-.25,0-.5,0-.76s0-.51,0-.77l1.92-1.68A2,2,0,0,0,29.3,11L26.94,7a2,2,0,0,0-1.73-1,2,2,0,0,0-.64.1l-2.43.82a11.35,11.35,0,0,0-1.31-.75l-.51-2.52a2,2,0,0,0-2-1.61H13.64a2,2,0,0,0-2,1.61l-.51,2.52a11.48,11.48,0,0,0-1.32.75L7.43,6.06A2,2,0,0,0,6.79,6,2,2,0,0,0,5.06,7L2.7,11a2,2,0,0,0,.41,2.51L5,15.24c0,.25,0,.5,0,.76s0,.51,0,.77L3.11,18.45A2,2,0,0,0,2.7,21L5.06,25a2,2,0,0,0,1.73,1,2,2,0,0,0,.64-.1l2.43-.82a11.35,11.35,0,0,0,1.31.75l.51,2.52a2,2,0,0,0,2,1.61h4.72a2,2,0,0,0,2-1.61l.51-2.52a11.48,11.48,0,0,0,1.32-.75l2.42.82a2,2,0,0,0,.64.1,2,2,0,0,0,1.73-1L29.3,21a2,2,0,0,0-.41-2.51ZM25.21,24l-3.43-1.16a8.86,8.86,0,0,1-2.71,1.57L18.36,28H13.64l-.71-3.55a9.36,9.36,0,0,1-2.7-1.57L6.79,24,4.43,20l2.72-2.4a8.9,8.9,0,0,1,0-3.13L4.43,12,6.79,8l3.43,1.16a8.86,8.86,0,0,1,2.71-1.57L13.64,4h4.72l.71,3.55a9.36,9.36,0,0,1,2.7,1.57L25.21,8,27.57,12l-2.72,2.4a8.9,8.9,0,0,1,0,3.13L27.57,20Z"})),Hr||(Hr=wt.createElement("path",{d:"M16,22a6,6,0,1,1,6-6A5.94,5.94,0,0,1,16,22Zm0-10a3.91,3.91,0,0,0-4,4,3.91,3.91,0,0,0,4,4,3.91,3.91,0,0,0,4-4A3.91,3.91,0,0,0,16,12Z"})),l)});var Wr;const Na=wt.forwardRef(function(n,a){let{children:l,size:u=16,...d}=n;return wt.createElement(Qt,{width:u,height:u,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...d},Wr||(Wr=wt.createElement("path",{d:"M29,5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2ZM27,5V9H5V5Zm0,22H5V23H27Zm0-6H5V17H27Zm0-6H5V11H27Z"})),l)});var Mi=(r=>(r.int="int",r.date="date",r.string="string",r))(Mi||{});function qr(r,n,{sortAsInt:a,sortAsDate:l}={}){const u=n.split(".").reduce((d,g)=>d==null?void 0:d[g],r);return l?new Date(u??0).getTime():a?Number(u)||0:String(u??"").toLowerCase()}function Za(r,n,a,l){if(l)return a?+r-+n:+n-+r;const u=r.toString().localeCompare(n.toString(),void 0,{sensitivity:"base"});return a?u:-u}function Ha(r,n,a){var E,v;if(a==="date")return{sortAsDate:!0};if(a==="int")return{sortAsInt:!0};if(a==="string")return{};const l=(E=r[0])==null?void 0:E[n],u=(v=r[r.length-1])==null?void 0:v[n],d=!isNaN(Number(l))&&!isNaN(Number(u)),g=!isNaN(new Date(l).getTime())&&!isNaN(new Date(u).getTime());return{sortAsInt:d,sortAsDate:g}}function Wa(r,n,a,l,u,d){if(!(r!=null&&r.length))return[];const{sortAsInt:g,sortAsDate:E}=Ha(r,n,l);return[...r].sort((v,z)=>{const M=qr(v,n,{sortAsInt:g,sortAsDate:E}),x=qr(z,n,{sortAsInt:g,sortAsDate:E});return Za(M,x,a,g||E||!1)})}const qa=(r,n,a,l=Mi.int)=>{const[u,d]=ut.useState([]),[g,E]=ut.useState(!1);return ut.useEffect(()=>{let v=null;const z=async()=>{const{default:M}=await xo(async()=>{const{default:x}=await import("./sortWorker-BEa9T9QX.js");return{default:x}},[]);v=new M,v.postMessage({data:r,sortByField:n,isSortedAsc:a,sortType:l}),E(!0),v.onmessage=function(x){d(x.data),E(!1)},v.onerror=function(x){console.error("Worker Error:",x),d(r||[]),E(!1)}};if(r.length&&n&&r.length>wo)z();else{const M=Wa(r,n.toString(),!!a,l);d(M)}return()=>{v&&v.terminate(),E(!1)}},[r,n,a,l]),{sortedData:u,isWorking:g}};var Fa=mn();function zo(){const r=Rt.c(14),{pathname:n}=xa(),[a,l]=bo();let u;r[0]===Symbol.for("react.memo_cache_sentinel")?(u={},r[0]=u):u=r[0];const[d,g]=ut.useState(u);let E,v;r[1]!==a?(E=()=>{const w={};a.forEach((O,m)=>{w[m]=O}),g(w)},v=[a],r[1]=a,r[2]=E,r[3]=v):(E=r[2],v=r[3]),ut.useEffect(E,v);let z;r[4]!==n||r[5]!==l?(z=w=>{l(O=>{const m={...Object.fromEntries(O),...w};return Object.keys(m).forEach(c=>{(m[c]===""||m[c]===_n)&&delete m[c]}),m.page==="1"&&delete m.page,Ee(Me(n),m),m})},r[4]=n,r[5]=l,r[6]=z):z=r[6];const M=z;let x;r[7]!==n||r[8]!==l?(x=()=>{l(w=>{const O=w.get("perPage"),m=w.get("sortBy"),c=w.get("sortOrder"),h={...O?{perPage:O}:{},...m?{sortBy:m}:{},...c?{sortOrder:c}:{}};return Ee(Me(n),h),h})},r[7]=n,r[8]=l,r[9]=x):x=r[9];const k=x;let P;return r[10]!==k||r[11]!==M||r[12]!==d?(P={values:d,handleValuesChange:M,handleResetForm:k},r[10]=k,r[11]=M,r[12]=d,r[13]=P):P=r[13],P}const ja=r=>{const n=Rt.c(11),{onChange:a,filterFields:l,appliedValues:u}=r,d=ut.useRef(null);let g;n[0]!==a?(g=M=>x=>{const k=x.target;a({[M]:k.value})},n[0]=a,n[1]=g):g=n[1];const E=g;let v;if(n[2]!==u||n[3]!==l||n[4]!==E){let M;n[6]!==u||n[7]!==E?(M=x=>{if(!("options"in x))return j.jsx(ba,{name:x.name,type:"text",placeholder:x.label,value:u[x.name]||"",onChange:E(x.name)},x.name);if("options"in x)return j.jsxs("div",{className:"filters__field",children:[j.jsx("label",{htmlFor:x.id||x.name,children:x.label}),j.jsx(Pa,{id:x.id||x.name,name:x.name,type:"text",placeholder:x.label,value:u[x.name]||"",onChange:E(x.name),options:x.options},x.name)]},x.name)},n[6]=u,n[7]=E,n[8]=M):M=n[8],v=l.map(M),n[2]=u,n[3]=l,n[4]=E,n[5]=v}else v=n[5];let z;return n[9]!==v?(z=j.jsx("div",{ref:d,className:"filters__wrapper",children:v}),n[9]=v,n[10]=z):z=n[10],z},Ga=(r,n,a)=>a===_n||`${r[n]}`==`${a}`,Va=(r,n,a)=>a===""||!!r&&typeof r=="object"&&!Array.isArray(r)&&Object.values(r).some(l=>l==null?void 0:l.toString().toLowerCase().includes(a.toString().toLowerCase())),Ua=(r,n,a,l)=>{const[u,d]=ut.useState([]),[g,E]=ut.useState(!1);return ut.useEffect(()=>{let v=null;const z=()=>{const x=(r||[]).filter(k=>Object.entries(n||{}).every(([P,w])=>{const O=a.find(c=>c.name===P),m=l[P]||(O&&!("options"in O)?Va:Ga);return w&&!["page","perPage","sortBy","sortOrder"].includes(P)?m(k,P,w):!0}));d(x)},M=async()=>{const{default:x}=await xo(async()=>{const{default:k}=await import("./filterWorker-DFIJUUnX.js");return{default:k}},[]);v=new x,v.postMessage({items:r,appliedValues:n,filterFields:a,filterFunctions:l}),E(!0),v.onmessage=function(k){d(k.data),E(!1)},v.onerror=function(k){console.error("Worker Error:",k),d(r||[]),E(!1)}};return r.length>wo?M():z(),()=>{v&&v.terminate()}},[r,n,a,l]),{filteredData:u,isWorking:g}},$a={},Ya=[];function Xa(r,n,a,l){const u=Rt.c(10),d=a===void 0?Ya:a,g=l===void 0?$a:l,{values:E,handleValuesChange:v,handleResetForm:z}=zo(),{filteredData:M}=Ua(r,E,d,g);let x;u[0]!==v?(x=O=>v({...O,page:"1"}),u[0]=v,u[1]=x):x=u[1];let k;u[2]!==d||u[3]!==z||u[4]!==x||u[5]!==E?(k=j.jsx(ja,{appliedValues:E,filterFields:d,onChange:x,resetForm:z}),u[2]=d,u[3]=z,u[4]=x,u[5]=E,u[6]=k):k=u[6];const P=k;let w;return u[7]!==M||u[8]!==P?(w={filters:P,filteredData:M},u[7]=M,u[8]=P,u[9]=w):w=u[9],w}const Ka=r=>{const n=Rt.c(16),{name:a,sortBy:l,isSortedAsc:u,configuredFields:d,onSortChange:g}=r,E=`${a}__row--head`;let v;n[0]!==E?(v=qt("row","row--head",E),n[0]=E,n[1]=v):v=n[1];let z;if(n[2]!==d||n[3]!==u||n[4]!==a||n[5]!==g||n[6]!==l){let x;n[8]!==u||n[9]!==a||n[10]!==g||n[11]!==l?(x=k=>j.jsxs("th",{className:qt("caption","cell","cell--head",`${a}__cell--head`,`${a}__cell--${k.field}`,{"cell--sortable":k.isSortable}),onClick:g(k),"aria-label":`Change sort field to ${k.title}`,role:"button",children:[k.title,k.isSortable&&j.jsx("span",{className:qt("cell__sort-indicator",{"cell__sort-indicator--active":l===k.field}),children:u||l!==k.field?j.jsx(Da,{size:20}):j.jsx(ka,{size:20})})]},k.field),n[8]=u,n[9]=a,n[10]=g,n[11]=l,n[12]=x):x=n[12],z=d.map(x),n[2]=d,n[3]=u,n[4]=a,n[5]=g,n[6]=l,n[7]=z}else z=n[7];let M;return n[13]!==v||n[14]!==z?(M=j.jsx("thead",{children:j.jsx("tr",{className:v,children:z})}),n[13]=v,n[14]=z,n[15]=M):M=n[15],M};let Ja=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((n,a)=>(a&=63,a<36?n+=a.toString(36):a<62?n+=(a-26).toString(36).toUpperCase():a>62?n+="-":n+="_",n),"");const Qa=r=>{const n=Rt.c(15),{data:a,name:l,getRowClasses:u,renderFunctions:d,configuredFields:g}=r;let E;n[0]!==d?(E=d===void 0?{}:d,n[0]=d,n[1]=E):E=n[1];const v=E;let z;if(n[2]!==g||n[3]!==a||n[4]!==u||n[5]!==l||n[6]!==v){let x;n[8]!==g||n[9]!==u||n[10]!==l||n[11]!==v?(x=(k,P)=>j.jsx("tr",{className:qt("row",`${l}__row`,u?u(k):""),children:g.map(w=>j.jsx("td",{className:qt("caption","cell",`${l}__cell`,`${l}__cell--${w.field}`),children:v[w.field]?v[w.field](k):`${typeof(k==null?void 0:k[w.field])<"u"?k[w.field]:""}`},`${P}__${w.field}`))},`${(k==null?void 0:k.win)||Ja()}__${P}`),n[8]=g,n[9]=u,n[10]=l,n[11]=v,n[12]=x):x=n[12],z=a.map(x),n[2]=g,n[3]=a,n[4]=u,n[5]=l,n[6]=v,n[7]=z}else z=n[7];let M;return n[13]!==z?(M=j.jsx("tbody",{children:z}),n[13]=z,n[14]=M):M=n[14],M},tl={},el=r=>{const n=Rt.c(39),{data:a,name:l,isSortedAsc:u,sortBy:d,headerFields:g,isDataFetching:E,wrapperClassName:v,showEmptyDataMessage:z,emptyDataMessageText:M,getRowClasses:x,renderFunctions:k}=r,P=k===void 0?tl:k;let w;n[0]!==g?(w=g.map(il),n[0]=g,n[1]=w):w=n[1];const[O,m]=ut.useState(w);let c;if(n[2]!==O||n[3]!==g){let G;n[5]!==O?(G=tt=>O.includes(tt.field),n[5]=O,n[6]=G):G=n[6],c=g.filter(G),n[2]=O,n[3]=g,n[4]=c}else c=n[4];const h=c,p=nl,b=`${l}__wrapper`;let y;n[7]!==b||n[8]!==v?(y=qt(v,"wrapper",b),n[7]=b,n[8]=v,n[9]=y):y=n[9];const T=`${l}__table`;let _;n[10]!==T?(_=qt("table",T),n[10]=T,n[11]=_):_=n[11];let S;n[12]!==h||n[13]!==O||n[14]!==g||n[15]!==u||n[16]!==l||n[17]!==d?(S=j.jsx(Ka,{name:l,sortBy:d,isSortedAsc:u,headerFields:g,fieldsToDisplay:O,configuredFields:h,onSortChange:p,setFieldsToDisplay:m}),n[12]=h,n[13]=O,n[14]=g,n[15]=u,n[16]=l,n[17]=d,n[18]=S):S=n[18];let A;n[19]!==h||n[20]!==a||n[21]!==x||n[22]!==l||n[23]!==P?(A=j.jsx(Qa,{name:l,data:a,getRowClasses:x,renderFunctions:P,configuredFields:h}),n[19]=h,n[20]=a,n[21]=x,n[22]=l,n[23]=P,n[24]=A):A=n[24];let H;n[25]!==_||n[26]!==S||n[27]!==A?(H=j.jsxs("table",{className:_,children:[S,A]}),n[25]=_,n[26]=S,n[27]=A,n[28]=H):H=n[28];let W;n[29]!==E?(W=!!E&&j.jsx("div",{className:"table__cell-shimmer",children:"Loading..."}),n[29]=E,n[30]=W):W=n[30];let Z;n[31]!==M||n[32]!==z?(Z=!!z&&j.jsx(j.Fragment,{children:M||"No data found."}),n[31]=M,n[32]=z,n[33]=Z):Z=n[33];let V;return n[34]!==H||n[35]!==W||n[36]!==Z||n[37]!==y?(V=j.jsxs("div",{className:y,children:[H,W,Z]}),n[34]=H,n[35]=W,n[36]=Z,n[37]=y,n[38]=V):V=n[38],V};function il(r){return r.field}function nl(r){return()=>{r.isSortable}}const zi=[{title:"filterLabelMode",field:"mode",modes:["Charging","Idle","Moving"],background:"#4b66ca"},{title:"telemetryTitleDistance",unit:"km",field:"distance",modes:["Charging","Idle","Moving"],background:"#4b9fca"},{title:"telemetryTitleSpeed",field:"speed",modes:["Moving"],unit:"km/h",background:"#89c475",segments:La()},{title:"telemetryTitleBatteryLevel",field:"batteryLevel",modes:["Moving","Charging","Idle"],unit:"%",segments:Po(),isGauge:!0},{title:"telemetryTitleBatteryHealth",unit:"%",field:"batteryHealth",modes:["Charging","Moving"],isGauge:!0,segments:Lo()},{title:"telemetryTitleBatteryTemperature",field:"batteryTemperature",modes:["Charging","Moving","Idle"],isGauge:!0,segments:Sa()},{title:"telemetryTitleChargingPower",unit:"kW",field:"chargingPower",modes:["Charging"]},{title:"telemetryTitleChargingCycles",unit:"",field:"chargingCycles",modes:["Charging"]},{title:"telemetryTitleEstimatedRange",unit:"h",field:"estimatedRange",modes:["Charging","Idle","Moving"]},{title:"telemetryTitleEnergyConsumption",unit:"Wh/km",field:"energyConsumption",modes:["Idle","Moving"]},{title:"telemetryTitleHvacPowerUsage",unit:"kW",field:"hvacPowerUsage",modes:["Idle","Moving"]},{title:"telemetryTitleMotorTemperature",unit:"Â°C",field:"motorTemperature",modes:["Idle","Moving"]},{title:"telemetryTitleIdleEnergyLoss",unit:"Wh/h",field:"idleEnergyLoss",modes:["Idle"]},{title:"telemetryTitleEfficiency",unit:"%",field:"gridToWheelEfficiency",modes:["Moving"]},{title:"telemetryTitlePeakPowerUsage",unit:"kW",field:"peakPowerUsage",modes:["Moving"]},{title:"telemetryTitleTorqueOutput",unit:"Nm",field:"torqueOutput",modes:["Moving"]},{title:"telemetryTitleBrakingEfficiency",unit:"%",field:"regenBrakingEfficiency",modes:["Moving"]}];function rl(r){const n=Rt.c(14),{data:a}=r,l=ni(al),{t:u}=ri();let d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d={field:"win",title:"WIN"},n[0]=d):d=n[0];let g;if(n[1]!==l||n[2]!==u){let k;n[4]!==l?(k=w=>!l.includes(w.field),n[4]=l,n[5]=k):k=n[5];let P;n[6]!==u?(P=w=>({field:w.field,title:u(w.title),isSortable:!1}),n[6]=u,n[7]=P):P=n[7],g=zi.filter(k).map(P),n[1]=l,n[2]=u,n[3]=g}else g=n[3];let E;n[8]!==g?(E=[d,...g],n[8]=g,n[9]=E):E=n[9];const v=E;let z;n[10]===Symbol.for("react.memo_cache_sentinel")?(z={...zi.filter(sl).reduce(ol,{})},n[10]=z):z=n[10];const M=z;let x;return n[11]!==a||n[12]!==v?(x=j.jsx(el,{name:"ev_list",headerFields:v,data:a,renderFunctions:M}),n[11]=a,n[12]=v,n[13]=x):x=n[13],x}function ol(r,n){return{...r,[n.field]:a=>{var d;const l=a[n.field],u=typeof l=="number"?(d=n.segments)==null?void 0:d.find(g=>{const{range:E}=g,{min:v,max:z}=E;return l>=v&&l<=z}):void 0;return j.jsx("span",{className:qt("column-plate",{"column-plate--attention":u==null?void 0:u.isWarning,"column-plate--warning":u==null?void 0:u.isCritical}),children:l.toString()})}}}function sl(r){return r.segments}function al(r){return r.layout.hiddenFields}const ll=(r,n,a,l)=>{const u=Rt.c(6),d=a===void 0?!0:a,g="mouseup";let E,v;u[0]!==d||u[1]!==n||u[2]!==r||u[3]!==g?(E=()=>{const z=M=>{var x;!d||!r||(x=r.current)!=null&&x.contains(M.target)||n()};return document.addEventListener(g,z),()=>{document.removeEventListener(g,z)}},v=[n,r,d,g],u[0]=d,u[1]=n,u[2]=r,u[3]=g,u[4]=E,u[5]=v):(E=u[4],v=u[5]),ut.useEffect(E,v)},Ro=r=>{const n=Rt.c(19);let a,l,u,d;n[0]!==r?({children:a,options:u,className:l,...d}=r,n[0]=r,n[1]=a,n[2]=l,n[3]=u,n[4]=d):(a=n[1],l=n[2],u=n[3],d=n[4]);const[g,E]=ut.useState(!1),v=ut.useRef(null);let z;n[5]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{E(ul)},n[5]=z):z=n[5];const M=z;ll(v,M,g);let x;n[6]!==l?(x=qt("drop-down-menu-button",l),n[6]=l,n[7]=x):x=n[7];let k;n[8]!==a||n[9]!==d||n[10]!==x?(k=j.jsx(gn,{onClick:M,className:x,...d,children:a}),n[8]=a,n[9]=d,n[10]=x,n[11]=k):k=n[11];let P;n[12]!==l||n[13]!==g||n[14]!==u?(P=g&&j.jsx("div",{role:"menu",className:qt("dropdown__menu",l),children:u.map(hl)}),n[12]=l,n[13]=g,n[14]=u,n[15]=P):P=n[15];let w;return n[16]!==k||n[17]!==P?(w=j.jsxs("div",{ref:v,className:"dropdown__wrapper",children:[k,P]}),n[16]=k,n[17]=P,n[18]=w):w=n[18],w};function ul(r){return!r}function hl(r,n){const{label:a,onClick:l,value:u,disabled:d,checked:g}=r;return j.jsxs("button",{onClick:l,disabled:d,children:[g?j.jsx(Aa,{}):j.jsx(Ia,{}),a]},`${a}__${u}__${n}`)}const cl={},fl={},Do=Me("layoutView");function dl(r){const n=Rt.c(36),{t:a}=ri(),l=ni(ml);let u;n[0]===Symbol.for("react.memo_cache_sentinel")?(u=Ei(Do,"grid"),n[0]=u):u=n[0];const[d,g]=ut.useState(u);let E;n[1]===Symbol.for("react.memo_cache_sentinel")?(E=()=>{g(pl)},n[1]=E):E=n[1];const v=E,{removeFieldHidden:z,setFieldHidden:M}=So();let x;n[2]!==l||n[3]!==z||n[4]!==M?(x=Y=>()=>{l.includes(Y)?z(Y):M(Y)},n[2]=l,n[3]=z,n[4]=M,n[5]=x):x=n[5];const k=x;let P;n[6]!==k||n[7]!==l||n[8]!==a?(P=zi.map(Y=>({label:a(Y.title),value:Y.field,onClick:k(Y.field),checked:!l.includes(Y.field)})),n[6]=k,n[7]=l,n[8]=a,n[9]=P):P=n[9];let w;n[10]!==P?(w=[...P],n[10]=P,n[11]=w):w=n[11];const O=w,m=To(Ta),{values:c}=zo(),h=c.sortOrder!=="desc";let p;n[12]!==m?(p=m||[],n[12]=m,n[13]=p):p=n[13];const{sortedData:b}=qa(p,(c==null?void 0:c.sortBy)||"win",h,(c==null?void 0:c.sortBy)==="win"||!(c!=null&&c.sortBy)?Mi.string:Mi.int),{filters:y,filteredData:T}=Xa(b,fl,r,cl);let _;n[14]!==a||n[15]!==d?(_=a(d!=="table"?"commonTitleTable":"commonTitleGrid"),n[14]=a,n[15]=d,n[16]=_):_=n[16];let S;n[17]!==d?(S=d==="table"?j.jsx(Ba,{size:20}):j.jsx(Na,{size:20}),n[17]=d,n[18]=S):S=n[18];let A;n[19]!==_||n[20]!==S?(A=j.jsx(gn,{title:_,isRounded:!0,isTransparent:!0,onClick:v,children:S}),n[19]=_,n[20]=S,n[21]=A):A=n[21];let H;n[22]!==a?(H=a("commonTitleSettings"),n[22]=a,n[23]=H):H=n[23];let W;n[24]===Symbol.for("react.memo_cache_sentinel")?(W=j.jsx(Mo,{size:20}),n[24]=W):W=n[24];let Z;n[25]!==O||n[26]!==H?(Z=j.jsx(Ro,{title:H,isRounded:!0,isTransparent:!0,options:O,children:W}),n[25]=O,n[26]=H,n[27]=Z):Z=n[27];let V;n[28]!==y||n[29]!==Z||n[30]!==A?(V=j.jsxs("div",{className:"ev-list__filters",children:[y,A,Z]}),n[28]=y,n[29]=Z,n[30]=A,n[31]=V):V=n[31];const G=V;let tt;return n[32]!==T||n[33]!==G||n[34]!==d?(tt={view:d,filters:G,filteredData:T},n[32]=T,n[33]=G,n[34]=d,n[35]=tt):tt=n[35],tt}function pl(r){const n=r==="table"?"grid":"table";return Ee(Do,n),n}function ml(r){return r.layout.hiddenFields}const _l=(r,n,a)=>{const l=Rt.c(10);let u;if(a){let d;l[0]!==a?(d=a.map(gl).filter(vl),l[0]=a,l[1]=d):d=l[1];const g=d;let E;l[2]!==a?(E=a.map(yl).filter(wl),l[2]=a,l[3]=E):E=l[3];const v=E,z=Math.min(...g),M=Math.max(...v);let x;l[4]!==z||l[5]!==M?(x={minValue:z,maxValue:M},l[4]=z,l[5]=M,l[6]=x):x=l[6],u=x}else{let d;l[7]!==n||l[8]!==r?(d={minValue:r,maxValue:n},l[7]=n,l[8]=r,l[9]=d):d=l[9],u=d}return u};function gl(r){var n;return(n=r.range)==null?void 0:n.min}function vl(r){return r!==void 0}function yl(r){var n;return(n=r.range)==null?void 0:n.max}function wl(r){return r!==void 0}const xl=r=>{var W;const n=Rt.c(26),{value:a,max:l,min:u,segments:d}=r,g=a===void 0?32:a,E=l===void 0?100:l,v=u===void 0?0:u,{maxValue:z,minValue:M}=_l(v,E,d),x=2*Math.PI*40,k=(g-M)/(z-M)*Math.PI*40+8,P=100*Math.PI;let w;n[0]!==z||n[1]!==M?(w=Z=>(Z-M)/(z-M)*Math.PI*50+8,n[0]=z,n[1]=M,n[2]=w):w=n[2];const O=w;let m;n[3]!==d||n[4]!==g?(m=((W=d==null?void 0:d.find(Z=>{const{range:V}=Z,{min:G,max:tt}=V;return g>=G&&g<=tt}))==null?void 0:W.color)||"#3d85c6",n[3]=d,n[4]=g,n[5]=m):m=n[5];const c=m;let h,p,b,y;if(n[6]!==O||n[7]!==d){const Z=d==null?void 0:d.sort(bl);h="120",p="60",b="0 0 120 50",y=d&&j.jsxs(j.Fragment,{children:[j.jsx("circle",{cx:"60",cy:"50",r:50,fill:"none",stroke:"#e0e0e0",strokeWidth:"2"}),Z==null?void 0:Z.map((V,G)=>j.jsx("circle",{cx:"60",cy:"50",r:50,fill:"none",stroke:V.color,strokeWidth:"2",strokeDasharray:P,strokeDashoffset:P-O(V.range.max),transform:"rotate(-186 60 50)"},G))]}),n[6]=O,n[7]=d,n[8]=h,n[9]=p,n[10]=b,n[11]=y}else h=n[8],p=n[9],b=n[10],y=n[11];let T;n[12]===Symbol.for("react.memo_cache_sentinel")?(T=j.jsx("circle",{cx:"60",cy:"50",r:40,fill:"none",stroke:"#e0e0e0",strokeWidth:"10"}),n[12]=T):T=n[12];const _=x-k;let S;n[13]!==c||n[14]!==_?(S=j.jsx("circle",{cx:"60",cy:"50",r:40,fill:"none",stroke:c,strokeWidth:"10",strokeDasharray:x,strokeDashoffset:_,transform:"rotate(-186 60 50)"}),n[13]=c,n[14]=_,n[15]=S):S=n[15];let A;n[16]!==c||n[17]!==g?(A=j.jsx("text",{x:"60",y:"55",textAnchor:"middle",fontSize:"16",fill:c,children:g}),n[16]=c,n[17]=g,n[18]=A):A=n[18];let H;return n[19]!==S||n[20]!==A||n[21]!==h||n[22]!==p||n[23]!==b||n[24]!==y?(H=j.jsxs("svg",{width:h,height:p,viewBox:b,children:[y,T,S,A]}),n[19]=S,n[20]=A,n[21]=h,n[22]=p,n[23]=b,n[24]=y,n[25]=H):H=n[25],H};function bl(r,n){return r.range.max>n.range.max?-1:1}function ko(r){const n=Rt.c(23),{title:a,value:l,background:u,segments:d,unitDescription:g,isGauge:E,href:v}=r;let z,M,x;if(n[0]!==u||n[1]!==v||n[2]!==d||n[3]!==l){const m=typeof l=="number"?d==null?void 0:d.find(h=>{const{range:p}=h,{min:b,max:y}=p;return l>=b&&l<=y}):void 0;z=typeof v=="string"?Ca:"div",M=v,x=qt("data-plate",{"data-plate--no-background":!u,"data-plate--attention":m==null?void 0:m.isWarning,"data-plate--warning":m==null?void 0:m.isCritical}),n[0]=u,n[1]=v,n[2]=d,n[3]=l,n[4]=z,n[5]=M,n[6]=x}else z=n[4],M=n[5],x=n[6];let k;n[7]!==u?(k={background:u},n[7]=u,n[8]=k):k=n[8];let P;n[9]!==a?(P=j.jsx("div",{className:"data-plate__title",children:a}),n[9]=a,n[10]=P):P=n[10];let w;n[11]!==E||n[12]!==d||n[13]!==g||n[14]!==l?(w=j.jsx("div",{className:"data-plate__value",children:E?j.jsx(xl,{value:l,segments:d}):j.jsxs("div",{className:"data-plate__value-data",children:[l," ",j.jsx("span",{className:"data-plate__unit",children:g})]})}),n[11]=E,n[12]=d,n[13]=g,n[14]=l,n[15]=w):w=n[15];let O;return n[16]!==z||n[17]!==M||n[18]!==x||n[19]!==k||n[20]!==P||n[21]!==w?(O=j.jsxs(z,{to:M,className:x,style:k,children:[P,w]}),n[16]=z,n[17]=M,n[18]=x,n[19]=k,n[20]=P,n[21]=w,n[22]=O):O=n[22],O}function Pl(r){const n=Rt.c(19),{win:a}=r;let l;n[0]!==a?(l=x=>x.evList.itemsById[a]?x.evList.itemsById[a]:void 0,n[0]=a,n[1]=l):l=n[1];const u=ni(l),{t:d}=ri(),g=ni(Ll);if(!u)return null;let E;n[2]!==u.win?(E=j.jsx("div",{className:"ev-plate__title",children:j.jsx("strong",{children:u.win})}),n[2]=u.win,n[3]=E):E=n[3];let v;if(n[4]!==u||n[5]!==g||n[6]!==d){let x;n[8]!==u.mode||n[9]!==g?(x=P=>{const{modes:w,field:O}=P;return w.includes(u.mode)&&!g.includes(O)},n[8]=u.mode,n[9]=g,n[10]=x):x=n[10];let k;n[11]!==u||n[12]!==d?(k=P=>{const{title:w,unit:O,field:m,background:c,isGauge:h,segments:p}=P;return j.jsx("div",{children:j.jsx(ko,{title:d(w),value:u[m],unitDescription:O,background:c,segments:p,isGauge:h})},`${u.win}__${m}`)},n[11]=u,n[12]=d,n[13]=k):k=n[13],v=zi.filter(x).map(k),n[4]=u,n[5]=g,n[6]=d,n[7]=v}else v=n[7];let z;n[14]!==v?(z=j.jsx("div",{className:"ev-plate__units",children:v}),n[14]=v,n[15]=z):z=n[15];let M;return n[16]!==E||n[17]!==z?(M=j.jsxs("div",{className:"ev-plate",children:[E,z]}),n[16]=E,n[17]=z,n[18]=M):M=n[18],M}function Ll(r){return r.layout.hiddenFields}function Sl(){const r=Rt.c(83),{t:n}=ri();let a;r[0]!==n?(a=n("filterLabelSearch"),r[0]=n,r[1]=a):a=r[1];let l;r[2]!==a?(l={name:"search",label:a},r[2]=a,r[3]=l):l=r[3];let u;r[4]!==n?(u=n("filterLabelMode"),r[4]=n,r[5]=u):u=r[5];let d;r[6]!==n?(d=n("filterLabelAll"),r[6]=n,r[7]=d):d=r[7];let g;r[8]!==d?(g={value:_n,label:d},r[8]=d,r[9]=g):g=r[9];let E;r[10]!==n?(E=n("filterLabelMoving"),r[10]=n,r[11]=E):E=r[11];let v;r[12]!==E?(v={value:"Moving",label:E},r[12]=E,r[13]=v):v=r[13];let z;r[14]!==n?(z=n("filterLabelIdle"),r[14]=n,r[15]=z):z=r[15];let M;r[16]!==z?(M={value:"Idle",label:z},r[16]=z,r[17]=M):M=r[17];let x;r[18]!==n?(x=n("filterLabelCharging"),r[18]=n,r[19]=x):x=r[19];let k;r[20]!==x?(k={value:"Charging",label:x},r[20]=x,r[21]=k):k=r[21];let P;r[22]!==k||r[23]!==g||r[24]!==v||r[25]!==M?(P=[g,v,M,k],r[22]=k,r[23]=g,r[24]=v,r[25]=M,r[26]=P):P=r[26];let w;r[27]!==P||r[28]!==u?(w={name:"mode",label:u,options:P},r[27]=P,r[28]=u,r[29]=w):w=r[29];let O;r[30]!==n?(O=n("filterLabelSortBy"),r[30]=n,r[31]=O):O=r[31];let m;r[32]!==n?(m=n("filterLabelWin"),r[32]=n,r[33]=m):m=r[33];let c;r[34]!==m?(c={value:"win",label:m},r[34]=m,r[35]=c):c=r[35];let h;r[36]!==n?(h=n("filterLabelBatteryLevel"),r[36]=n,r[37]=h):h=r[37];let p;r[38]!==h?(p={value:"batteryLevel",label:h},r[38]=h,r[39]=p):p=r[39];let b;r[40]!==n?(b=n("filterLabelSpeed"),r[40]=n,r[41]=b):b=r[41];let y;r[42]!==b?(y={value:"speed",label:b},r[42]=b,r[43]=y):y=r[43];let T;r[44]!==n?(T=n("filterLabelDistance"),r[44]=n,r[45]=T):T=r[45];let _;r[46]!==T?(_={value:"distance",label:T},r[46]=T,r[47]=_):_=r[47];let S;r[48]!==c||r[49]!==p||r[50]!==y||r[51]!==_?(S=[c,p,y,_],r[48]=c,r[49]=p,r[50]=y,r[51]=_,r[52]=S):S=r[52];let A;r[53]!==O||r[54]!==S?(A={name:"sortBy",label:O,options:S},r[53]=O,r[54]=S,r[55]=A):A=r[55];let H;r[56]!==n?(H=n("filterLabelSortOrder"),r[56]=n,r[57]=H):H=r[57];let W;r[58]!==n?(W=n("filterLabelAsc"),r[58]=n,r[59]=W):W=r[59];let Z;r[60]!==W?(Z={value:"asc",label:W},r[60]=W,r[61]=Z):Z=r[61];let V;r[62]!==n?(V=n("filterLabelDesc"),r[62]=n,r[63]=V):V=r[63];let G;r[64]!==V?(G={value:"desc",label:V},r[64]=V,r[65]=G):G=r[65];let tt;r[66]!==Z||r[67]!==G?(tt=[Z,G],r[66]=Z,r[67]=G,r[68]=tt):tt=r[68];let Y;r[69]!==H||r[70]!==tt?(Y={name:"sortOrder",label:H,options:tt},r[69]=H,r[70]=tt,r[71]=Y):Y=r[71];let ot;r[72]!==l||r[73]!==w||r[74]!==A||r[75]!==Y?(ot=[l,w,A,Y],r[72]=l,r[73]=w,r[74]=A,r[75]=Y,r[76]=ot):ot=r[76];const K=ot,{filters:pt,filteredData:$,view:Q}=dl(K);let yt;r[77]!==$||r[78]!==Q?(yt=Q==="grid"?j.jsx(j.Fragment,{children:$.map(Tl)}):j.jsx(rl,{data:$}),r[77]=$,r[78]=Q,r[79]=yt):yt=r[79];let Pt;return r[80]!==pt||r[81]!==yt?(Pt=j.jsxs(j.Fragment,{children:[pt,yt]}),r[80]=pt,r[81]=yt,r[82]=Pt):Pt=r[82],Pt}function Tl(r){return j.jsx(Pl,{win:r.win},r.win)}var cn={exports:{}},Ve={},ei={exports:{}},Cl=ei.exports,Fr;function vn(){return Fr||(Fr=1,function(r,n){(function(a,l){l(n)})(Cl,function(a){function l(X){return function(_t,R,D,B,F,it,U){return X(_t,R,U)}}function u(X){return function(_t,R,D,B){if(!_t||!R||typeof _t!="object"||typeof R!="object")return X(_t,R,D,B);var F=B.get(_t),it=B.get(R);if(F&&it)return F===R&&it===_t;B.set(_t,R),B.set(R,_t);var U=X(_t,R,D,B);return B.delete(_t),B.delete(R),U}}function d(X,at){var _t={};for(var R in X)_t[R]=X[R];for(var R in at)_t[R]=at[R];return _t}function g(X){return X.constructor===Object||X.constructor==null}function E(X){return typeof X.then=="function"}function v(X,at){return X===at||X!==X&&at!==at}var z="[object Arguments]",M="[object Boolean]",x="[object Date]",k="[object RegExp]",P="[object Map]",w="[object Number]",O="[object Object]",m="[object Set]",c="[object String]",h=Object.prototype.toString;function p(X){var at=X.areArraysEqual,_t=X.areDatesEqual,R=X.areMapsEqual,D=X.areObjectsEqual,B=X.areRegExpsEqual,F=X.areSetsEqual,it=X.createIsNestedEqual,U=it(rt);function rt(et,lt,Lt){if(et===lt)return!0;if(!et||!lt||typeof et!="object"||typeof lt!="object")return et!==et&&lt!==lt;if(g(et)&&g(lt))return D(et,lt,U,Lt);var Ft=Array.isArray(et),It=Array.isArray(lt);if(Ft||It)return Ft===It&&at(et,lt,U,Lt);var Ct=h.call(et);return Ct!==h.call(lt)?!1:Ct===x?_t(et,lt,U,Lt):Ct===k?B(et,lt,U,Lt):Ct===P?R(et,lt,U,Lt):Ct===m?F(et,lt,U,Lt):Ct===O||Ct===z?E(et)||E(lt)?!1:D(et,lt,U,Lt):Ct===M||Ct===w||Ct===c?v(et.valueOf(),lt.valueOf()):!1}return rt}function b(X,at,_t,R){var D=X.length;if(at.length!==D)return!1;for(;D-- >0;)if(!_t(X[D],at[D],D,D,X,at,R))return!1;return!0}var y=u(b);function T(X,at){return v(X.valueOf(),at.valueOf())}function _(X,at,_t,R){var D=X.size===at.size;if(!D)return!1;if(!X.size)return!0;var B={},F=0;return X.forEach(function(it,U){if(D){var rt=!1,et=0;at.forEach(function(lt,Lt){!rt&&!B[et]&&(rt=_t(U,Lt,F,et,X,at,R)&&_t(it,lt,U,Lt,X,at,R))&&(B[et]=!0),et++}),F++,D=rt}}),D}var S=u(_),A="_owner",H=Object.prototype.hasOwnProperty;function W(X,at,_t,R){var D=Object.keys(X),B=D.length;if(Object.keys(at).length!==B)return!1;for(var F;B-- >0;){if(F=D[B],F===A){var it=!!X.$$typeof,U=!!at.$$typeof;if((it||U)&&it!==U)return!1}if(!H.call(at,F)||!_t(X[F],at[F],F,F,X,at,R))return!1}return!0}var Z=u(W);function V(X,at){return X.source===at.source&&X.flags===at.flags}function G(X,at,_t,R){var D=X.size===at.size;if(!D)return!1;if(!X.size)return!0;var B={};return X.forEach(function(F,it){if(D){var U=!1,rt=0;at.forEach(function(et,lt){!U&&!B[rt]&&(U=_t(F,et,it,lt,X,at,R))&&(B[rt]=!0),rt++}),D=U}}),D}var tt=u(G),Y=Object.freeze({areArraysEqual:b,areDatesEqual:T,areMapsEqual:_,areObjectsEqual:W,areRegExpsEqual:V,areSetsEqual:G,createIsNestedEqual:l}),ot=Object.freeze({areArraysEqual:y,areDatesEqual:T,areMapsEqual:S,areObjectsEqual:Z,areRegExpsEqual:V,areSetsEqual:tt,createIsNestedEqual:l}),K=p(Y);function pt(X,at){return K(X,at,void 0)}var $=p(d(Y,{createIsNestedEqual:function(){return v}}));function Q(X,at){return $(X,at,void 0)}var yt=p(ot);function Pt(X,at){return yt(X,at,new WeakMap)}var xt=p(d(ot,{createIsNestedEqual:function(){return v}}));function mt(X,at){return xt(X,at,new WeakMap)}function ft(X){return p(d(Y,X(Y)))}function Nt(X){var at=p(d(ot,X(ot)));return function(_t,R,D){return D===void 0&&(D=new WeakMap),at(_t,R,D)}}a.circularDeepEqual=Pt,a.circularShallowEqual=mt,a.createCustomCircularEqual=Nt,a.createCustomEqual=ft,a.deepEqual=pt,a.sameValueZeroEqual=v,a.shallowEqual=Q,Object.defineProperty(a,"__esModule",{value:!0})})}(ei,ei.exports)),ei.exports}var Si={exports:{}},jr;function yn(){if(jr)return Si.exports;jr=1;function r(a){var l,u,d="";if(typeof a=="string"||typeof a=="number")d+=a;else if(typeof a=="object")if(Array.isArray(a)){var g=a.length;for(l=0;l<g;l++)a[l]&&(u=r(a[l]))&&(d&&(d+=" "),d+=u)}else for(u in a)a[u]&&(d&&(d+=" "),d+=u);return d}function n(){for(var a,l,u=0,d="",g=arguments.length;u<g;u++)(a=arguments[u])&&(l=r(a))&&(d&&(d+=" "),d+=l);return d}return Si.exports=n,Si.exports.clsx=n,Si.exports}var vt={},fn,Gr;function Ol(){return Gr||(Gr=1,fn=function(n,a,l){return n===a?!0:n.className===a.className&&l(n.style,a.style)&&n.width===a.width&&n.autoSize===a.autoSize&&n.cols===a.cols&&n.draggableCancel===a.draggableCancel&&n.draggableHandle===a.draggableHandle&&l(n.verticalCompact,a.verticalCompact)&&l(n.compactType,a.compactType)&&l(n.layout,a.layout)&&l(n.margin,a.margin)&&l(n.containerPadding,a.containerPadding)&&n.rowHeight===a.rowHeight&&n.maxRows===a.maxRows&&n.isBounded===a.isBounded&&n.isDraggable===a.isDraggable&&n.isResizable===a.isResizable&&n.allowOverlap===a.allowOverlap&&n.preventCollision===a.preventCollision&&n.useCSSTransforms===a.useCSSTransforms&&n.transformScale===a.transformScale&&n.isDroppable===a.isDroppable&&l(n.resizeHandles,a.resizeHandles)&&l(n.resizeHandle,a.resizeHandle)&&n.onLayoutChange===a.onLayoutChange&&n.onDragStart===a.onDragStart&&n.onDrag===a.onDrag&&n.onDragStop===a.onDragStop&&n.onResizeStart===a.onResizeStart&&n.onResize===a.onResize&&n.onResizeStop===a.onResizeStop&&n.onDrop===a.onDrop&&l(n.droppingItem,a.droppingItem)&&l(n.innerRef,a.innerRef)}),fn}var Vr;function Re(){if(Vr)return vt;Vr=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.bottom=l,vt.childrenEqual=v,vt.cloneLayout=u,vt.cloneLayoutItem=E,vt.collides=M,vt.compact=x,vt.compactItem=w,vt.compactType=X,vt.correctBounds=O,vt.fastPositionEqual=z,vt.fastRGLPropsEqual=void 0,vt.getAllCollisions=h,vt.getFirstCollision=c,vt.getLayoutItem=m,vt.getStatics=p,vt.modifyLayout=d,vt.moveElement=b,vt.moveElementAwayFromCollision=y,vt.noop=void 0,vt.perc=T,vt.resizeItemInDirection=$,vt.setTopLeft=yt,vt.setTransform=Q,vt.sortLayoutItems=Pt,vt.sortLayoutItemsByColRow=mt,vt.sortLayoutItemsByRowCol=xt,vt.synchronizeLayoutWithChildren=ft,vt.validateLayout=Nt,vt.withLayoutItem=g;var r=vn(),n=a(Vt());function a(R){return R&&R.__esModule?R:{default:R}}function l(R){let D=0,B;for(let F=0,it=R.length;F<it;F++)B=R[F].y+R[F].h,B>D&&(D=B);return D}function u(R){const D=Array(R.length);for(let B=0,F=R.length;B<F;B++)D[B]=E(R[B]);return D}function d(R,D){const B=Array(R.length);for(let F=0,it=R.length;F<it;F++)D.i===R[F].i?B[F]=D:B[F]=R[F];return B}function g(R,D,B){let F=m(R,D);return F?(F=B(E(F)),R=d(R,F),[R,F]):[R,null]}function E(R){return{w:R.w,h:R.h,x:R.x,y:R.y,i:R.i,minW:R.minW,maxW:R.maxW,minH:R.minH,maxH:R.maxH,moved:!!R.moved,static:!!R.static,isDraggable:R.isDraggable,isResizable:R.isResizable,resizeHandles:R.resizeHandles,isBounded:R.isBounded}}function v(R,D){return(0,r.deepEqual)(n.default.Children.map(R,B=>B==null?void 0:B.key),n.default.Children.map(D,B=>B==null?void 0:B.key))&&(0,r.deepEqual)(n.default.Children.map(R,B=>B==null?void 0:B.props["data-grid"]),n.default.Children.map(D,B=>B==null?void 0:B.props["data-grid"]))}vt.fastRGLPropsEqual=Ol();function z(R,D){return R.left===D.left&&R.top===D.top&&R.width===D.width&&R.height===D.height}function M(R,D){return!(R.i===D.i||R.x+R.w<=D.x||R.x>=D.x+D.w||R.y+R.h<=D.y||R.y>=D.y+D.h)}function x(R,D,B,F){const it=p(R),U=Pt(R,D),rt=Array(R.length);for(let et=0,lt=U.length;et<lt;et++){let Lt=E(U[et]);Lt.static||(Lt=w(it,Lt,D,B,U,F),it.push(Lt)),rt[R.indexOf(U[et])]=Lt,Lt.moved=!1}return rt}const k={x:"w",y:"h"};function P(R,D,B,F){const it=k[F];D[F]+=1;const U=R.map(rt=>rt.i).indexOf(D.i);for(let rt=U+1;rt<R.length;rt++){const et=R[rt];if(!et.static){if(et.y>D.y+D.h)break;M(D,et)&&P(R,et,B+D[it],F)}}D[F]=B}function w(R,D,B,F,it,U){const rt=B==="vertical",et=B==="horizontal";if(rt)for(D.y=Math.min(l(R),D.y);D.y>0&&!c(R,D);)D.y--;else if(et)for(;D.x>0&&!c(R,D);)D.x--;let lt;for(;(lt=c(R,D))&&!(B===null&&U);)if(et?P(it,D,lt.x+lt.w,"x"):P(it,D,lt.y+lt.h,"y"),et&&D.x+D.w>F)for(D.x=F-D.w,D.y++;D.x>0&&!c(R,D);)D.x--;return D.y=Math.max(D.y,0),D.x=Math.max(D.x,0),D}function O(R,D){const B=p(R);for(let F=0,it=R.length;F<it;F++){const U=R[F];if(U.x+U.w>D.cols&&(U.x=D.cols-U.w),U.x<0&&(U.x=0,U.w=D.cols),!U.static)B.push(U);else for(;c(B,U);)U.y++}return R}function m(R,D){for(let B=0,F=R.length;B<F;B++)if(R[B].i===D)return R[B]}function c(R,D){for(let B=0,F=R.length;B<F;B++)if(M(R[B],D))return R[B]}function h(R,D){return R.filter(B=>M(B,D))}function p(R){return R.filter(D=>D.static)}function b(R,D,B,F,it,U,rt,et,lt){if(D.static&&D.isDraggable!==!0||D.y===F&&D.x===B)return R;`${D.i}${String(B)}${String(F)}${D.x}${D.y}`;const Lt=D.x,Ft=D.y;typeof B=="number"&&(D.x=B),typeof F=="number"&&(D.y=F),D.moved=!0;let It=Pt(R,rt);(rt==="vertical"&&typeof F=="number"?Ft>=F:rt==="horizontal"&&typeof B=="number"?Lt>=B:!1)&&(It=It.reverse());const se=h(It,D),ye=se.length>0;if(ye&&lt)return u(R);if(ye&&U)return`${D.i}`,D.x=Lt,D.y=Ft,D.moved=!1,R;for(let fe=0,si=se.length;fe<si;fe++){const Ut=se[fe];`${D.i}${D.x}${D.y}${Ut.i}${Ut.x}${Ut.y}`,!Ut.moved&&(Ut.static?R=y(R,Ut,D,it,rt):R=y(R,D,Ut,it,rt))}return R}function y(R,D,B,F,it,U){const rt=it==="horizontal",et=it==="vertical",lt=D.static;if(F){F=!1;const It={x:rt?Math.max(D.x-B.w,0):B.x,y:et?Math.max(D.y-B.h,0):B.y,w:B.w,h:B.h,i:"-1"},Ct=c(R,It),se=Ct&&Ct.y+Ct.h>D.y,ye=Ct&&D.x+D.w>Ct.x;if(Ct){if(se&&et)return b(R,B,void 0,D.y+1,F,lt,it);if(se&&it==null)return D.y=B.y,B.y=B.y+B.h,R;if(ye&&rt)return b(R,D,B.x,void 0,F,lt,it)}else return`${B.i}${It.x}${It.y}`,b(R,B,rt?It.x:void 0,et?It.y:void 0,F,lt,it)}const Lt=rt?B.x+1:void 0,Ft=et?B.y+1:void 0;return Lt==null&&Ft==null?R:b(R,B,rt?B.x+1:void 0,et?B.y+1:void 0,F,lt,it)}function T(R){return R*100+"%"}const _=(R,D,B,F)=>R+B>F?D:B,S=(R,D,B)=>R<0?D:B,A=R=>Math.max(0,R),H=R=>Math.max(0,R),W=(R,D,B)=>{let{left:F,height:it,width:U}=D;const rt=R.top-(it-R.height);return{left:F,width:U,height:S(rt,R.height,it),top:H(rt)}},Z=(R,D,B)=>{let{top:F,left:it,height:U,width:rt}=D;return{top:F,height:U,width:_(R.left,R.width,rt,B),left:A(it)}},V=(R,D,B)=>{let{top:F,height:it,width:U}=D;const rt=R.left-(U-R.width);return{height:it,width:rt<0?R.width:_(R.left,R.width,U,B),top:H(F),left:A(rt)}},G=(R,D,B)=>{let{top:F,left:it,height:U,width:rt}=D;return{width:rt,left:it,height:S(F,R.height,U),top:H(F)}},pt={n:W,ne:function(){return W(arguments.length<=0?void 0:arguments[0],Z(...arguments))},e:Z,se:function(){return G(arguments.length<=0?void 0:arguments[0],Z(...arguments))},s:G,sw:function(){return G(arguments.length<=0?void 0:arguments[0],V(...arguments))},w:V,nw:function(){return W(arguments.length<=0?void 0:arguments[0],V(...arguments))}};function $(R,D,B,F){const it=pt[R];return it?it(D,{...D,...B},F):B}function Q(R){let{top:D,left:B,width:F,height:it}=R;const U=`translate(${B}px,${D}px)`;return{transform:U,WebkitTransform:U,MozTransform:U,msTransform:U,OTransform:U,width:`${F}px`,height:`${it}px`,position:"absolute"}}function yt(R){let{top:D,left:B,width:F,height:it}=R;return{top:`${D}px`,left:`${B}px`,width:`${F}px`,height:`${it}px`,position:"absolute"}}function Pt(R,D){return D==="horizontal"?mt(R):D==="vertical"?xt(R):R}function xt(R){return R.slice(0).sort(function(D,B){return D.y>B.y||D.y===B.y&&D.x>B.x?1:D.y===B.y&&D.x===B.x?0:-1})}function mt(R){return R.slice(0).sort(function(D,B){return D.x>B.x||D.x===B.x&&D.y>B.y?1:-1})}function ft(R,D,B,F,it){R=R||[];const U=[];n.default.Children.forEach(D,et=>{if((et==null?void 0:et.key)==null)return;const lt=m(R,String(et.key)),Lt=et.props["data-grid"];lt&&Lt==null?U.push(E(lt)):Lt?U.push(E({...Lt,i:et.key})):U.push(E({w:1,h:1,x:0,y:l(U),i:String(et.key)}))});const rt=O(U,{cols:B});return it?rt:x(rt,F,B)}function Nt(R){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const B=["x","y","w","h"];if(!Array.isArray(R))throw new Error(D+" must be an array!");for(let F=0,it=R.length;F<it;F++){const U=R[F];for(let rt=0;rt<B.length;rt++){const et=B[rt],lt=U[et];if(typeof lt!="number"||Number.isNaN(lt))throw new Error(`ReactGridLayout: ${D}[${F}].${et} must be a number! Received: ${lt} (${typeof lt})`)}if(typeof U.i<"u"&&typeof U.i!="string")throw new Error(`ReactGridLayout: ${D}[${F}].i must be a string! Received: ${U.i} (${typeof U.i})`)}}function X(R){const{verticalCompact:D,compactType:B}=R||{};return D===!1?null:B}function at(){}const _t=()=>{};return vt.noop=_t,vt}var re={},Ur;function wn(){if(Ur)return re;Ur=1,Object.defineProperty(re,"__esModule",{value:!0}),re.calcGridColWidth=r,re.calcGridItemPosition=a,re.calcGridItemWHPx=n,re.calcWH=u,re.calcXY=l,re.clamp=d;function r(g){const{margin:E,containerPadding:v,containerWidth:z,cols:M}=g;return(z-E[0]*(M-1)-v[0]*2)/M}function n(g,E,v){return Number.isFinite(g)?Math.round(E*g+Math.max(0,g-1)*v):g}function a(g,E,v,z,M,x){const{margin:k,containerPadding:P,rowHeight:w}=g,O=r(g),m={};return x&&x.resizing?(m.width=Math.round(x.resizing.width),m.height=Math.round(x.resizing.height)):(m.width=n(z,O,k[0]),m.height=n(M,w,k[1])),x&&x.dragging?(m.top=Math.round(x.dragging.top),m.left=Math.round(x.dragging.left)):x&&x.resizing&&typeof x.resizing.top=="number"&&typeof x.resizing.left=="number"?(m.top=Math.round(x.resizing.top),m.left=Math.round(x.resizing.left)):(m.top=Math.round((w+k[1])*v+P[1]),m.left=Math.round((O+k[0])*E+P[0])),m}function l(g,E,v,z,M){const{margin:x,containerPadding:k,cols:P,rowHeight:w,maxRows:O}=g,m=r(g);let c=Math.round((v-k[0])/(m+x[0])),h=Math.round((E-k[1])/(w+x[1]));return c=d(c,0,P-z),h=d(h,0,O-M),{x:c,y:h}}function u(g,E,v,z,M,x){const{margin:k,maxRows:P,cols:w,rowHeight:O}=g,m=r(g);let c=Math.round((E+k[0])/(m+k[0])),h=Math.round((v+k[1])/(O+k[1])),p=d(c,0,w-z),b=d(h,0,P-M);return["sw","w","nw"].indexOf(x)!==-1&&(p=d(c,0,w)),["nw","n","ne"].indexOf(x)!==-1&&(b=d(h,0,P)),{w:p,h:b}}function d(g,E,v){return Math.max(Math.min(g,v),E)}return re}var Ue={},$e={exports:{}},dn={};function Io(r){var n,a,l="";if(typeof r=="string"||typeof r=="number")l+=r;else if(typeof r=="object")if(Array.isArray(r))for(n=0;n<r.length;n++)r[n]&&(a=Io(r[n]))&&(l&&(l+=" "),l+=a);else for(n in r)r[n]&&(l&&(l+=" "),l+=n);return l}function $r(){for(var r,n,a=0,l="";a<arguments.length;)(r=arguments[a++])&&(n=Io(r))&&(l&&(l+=" "),l+=n);return l}const El=Object.freeze(Object.defineProperty({__proto__:null,clsx:$r,default:$r},Symbol.toStringTag,{value:"Module"})),Ml=Co(El);var Et={},ue={},Yr;function ki(){if(Yr)return ue;Yr=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.dontSetMe=u,ue.findInArray=r,ue.int=l,ue.isFunction=n,ue.isNum=a;function r(d,g){for(let E=0,v=d.length;E<v;E++)if(g.apply(g,[d[E],E,d]))return d[E]}function n(d){return typeof d=="function"||Object.prototype.toString.call(d)==="[object Function]"}function a(d){return typeof d=="number"&&!isNaN(d)}function l(d){return parseInt(d,10)}function u(d,g,E){if(d[g])return new Error("Invalid prop ".concat(g," passed to ").concat(E," - do not set this, set it on the child."))}return ue}var he={},Xr;function zl(){if(Xr)return he;Xr=1,Object.defineProperty(he,"__esModule",{value:!0}),he.browserPrefixToKey=a,he.browserPrefixToStyle=l,he.default=void 0,he.getPrefix=n;const r=["Moz","Webkit","O","ms"];function n(){var d;let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const E=(d=window.document)===null||d===void 0||(d=d.documentElement)===null||d===void 0?void 0:d.style;if(!E||g in E)return"";for(let v=0;v<r.length;v++)if(a(g,r[v])in E)return r[v];return""}function a(d,g){return g?"".concat(g).concat(u(d)):d}function l(d,g){return g?"-".concat(g.toLowerCase(),"-").concat(d):d}function u(d){let g="",E=!0;for(let v=0;v<d.length;v++)E?(g+=d[v].toUpperCase(),E=!1):d[v]==="-"?E=!0:g+=d[v];return g}return he.default=n(),he}var Kr;function xn(){if(Kr)return Et;Kr=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.addClassName=y,Et.addEvent=E,Et.addUserSelectStyles=p,Et.createCSSTransform=w,Et.createSVGTransform=O,Et.getTouch=c,Et.getTouchIdentifier=h,Et.getTranslation=m,Et.innerHeight=x,Et.innerWidth=k,Et.matchesSelector=d,Et.matchesSelectorAndParentsTo=g,Et.offsetXYFromParent=P,Et.outerHeight=z,Et.outerWidth=M,Et.removeClassName=T,Et.removeEvent=v,Et.removeUserSelectStyles=b;var r=ki(),n=l(zl());function a(_){if(typeof WeakMap!="function")return null;var S=new WeakMap,A=new WeakMap;return(a=function(H){return H?A:S})(_)}function l(_,S){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var A=a(S);if(A&&A.has(_))return A.get(_);var H={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in _)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(_,Z)){var V=W?Object.getOwnPropertyDescriptor(_,Z):null;V&&(V.get||V.set)?Object.defineProperty(H,Z,V):H[Z]=_[Z]}return H.default=_,A&&A.set(_,H),H}let u="";function d(_,S){return u||(u=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(A){return(0,r.isFunction)(_[A])})),(0,r.isFunction)(_[u])?_[u](S):!1}function g(_,S,A){let H=_;do{if(d(H,S))return!0;if(H===A)return!1;H=H.parentNode}while(H);return!1}function E(_,S,A,H){if(!_)return;const W={capture:!0,...H};_.addEventListener?_.addEventListener(S,A,W):_.attachEvent?_.attachEvent("on"+S,A):_["on"+S]=A}function v(_,S,A,H){if(!_)return;const W={capture:!0,...H};_.removeEventListener?_.removeEventListener(S,A,W):_.detachEvent?_.detachEvent("on"+S,A):_["on"+S]=null}function z(_){let S=_.clientHeight;const A=_.ownerDocument.defaultView.getComputedStyle(_);return S+=(0,r.int)(A.borderTopWidth),S+=(0,r.int)(A.borderBottomWidth),S}function M(_){let S=_.clientWidth;const A=_.ownerDocument.defaultView.getComputedStyle(_);return S+=(0,r.int)(A.borderLeftWidth),S+=(0,r.int)(A.borderRightWidth),S}function x(_){let S=_.clientHeight;const A=_.ownerDocument.defaultView.getComputedStyle(_);return S-=(0,r.int)(A.paddingTop),S-=(0,r.int)(A.paddingBottom),S}function k(_){let S=_.clientWidth;const A=_.ownerDocument.defaultView.getComputedStyle(_);return S-=(0,r.int)(A.paddingLeft),S-=(0,r.int)(A.paddingRight),S}function P(_,S,A){const W=S===S.ownerDocument.body?{left:0,top:0}:S.getBoundingClientRect(),Z=(_.clientX+S.scrollLeft-W.left)/A,V=(_.clientY+S.scrollTop-W.top)/A;return{x:Z,y:V}}function w(_,S){const A=m(_,S,"px");return{[(0,n.browserPrefixToKey)("transform",n.default)]:A}}function O(_,S){return m(_,S,"")}function m(_,S,A){let{x:H,y:W}=_,Z="translate(".concat(H).concat(A,",").concat(W).concat(A,")");if(S){const V="".concat(typeof S.x=="string"?S.x:S.x+A),G="".concat(typeof S.y=="string"?S.y:S.y+A);Z="translate(".concat(V,", ").concat(G,")")+Z}return Z}function c(_,S){return _.targetTouches&&(0,r.findInArray)(_.targetTouches,A=>S===A.identifier)||_.changedTouches&&(0,r.findInArray)(_.changedTouches,A=>S===A.identifier)}function h(_){if(_.targetTouches&&_.targetTouches[0])return _.targetTouches[0].identifier;if(_.changedTouches&&_.changedTouches[0])return _.changedTouches[0].identifier}function p(_){if(!_)return;let S=_.getElementById("react-draggable-style-el");S||(S=_.createElement("style"),S.type="text/css",S.id="react-draggable-style-el",S.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,S.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,_.getElementsByTagName("head")[0].appendChild(S)),_.body&&y(_.body,"react-draggable-transparent-selection")}function b(_){if(_)try{if(_.body&&T(_.body,"react-draggable-transparent-selection"),_.selection)_.selection.empty();else{const S=(_.defaultView||window).getSelection();S&&S.type!=="Caret"&&S.removeAllRanges()}}catch{}}function y(_,S){_.classList?_.classList.add(S):_.className.match(new RegExp("(?:^|\\s)".concat(S,"(?!\\S)")))||(_.className+=" ".concat(S))}function T(_,S){_.classList?_.classList.remove(S):_.className=_.className.replace(new RegExp("(?:^|\\s)".concat(S,"(?!\\S)"),"g"),"")}return Et}var Jt={},Jr;function Ao(){if(Jr)return Jt;Jr=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.canDragX=u,Jt.canDragY=d,Jt.createCoreData=E,Jt.createDraggableData=v,Jt.getBoundPosition=a,Jt.getControlPosition=g,Jt.snapToGrid=l;var r=ki(),n=xn();function a(x,k,P){if(!x.props.bounds)return[k,P];let{bounds:w}=x.props;w=typeof w=="string"?w:z(w);const O=M(x);if(typeof w=="string"){const{ownerDocument:m}=O,c=m.defaultView;let h;if(w==="parent"?h=O.parentNode:h=m.querySelector(w),!(h instanceof c.HTMLElement))throw new Error('Bounds selector "'+w+'" could not find an element.');const p=h,b=c.getComputedStyle(O),y=c.getComputedStyle(p);w={left:-O.offsetLeft+(0,r.int)(y.paddingLeft)+(0,r.int)(b.marginLeft),top:-O.offsetTop+(0,r.int)(y.paddingTop)+(0,r.int)(b.marginTop),right:(0,n.innerWidth)(p)-(0,n.outerWidth)(O)-O.offsetLeft+(0,r.int)(y.paddingRight)-(0,r.int)(b.marginRight),bottom:(0,n.innerHeight)(p)-(0,n.outerHeight)(O)-O.offsetTop+(0,r.int)(y.paddingBottom)-(0,r.int)(b.marginBottom)}}return(0,r.isNum)(w.right)&&(k=Math.min(k,w.right)),(0,r.isNum)(w.bottom)&&(P=Math.min(P,w.bottom)),(0,r.isNum)(w.left)&&(k=Math.max(k,w.left)),(0,r.isNum)(w.top)&&(P=Math.max(P,w.top)),[k,P]}function l(x,k,P){const w=Math.round(k/x[0])*x[0],O=Math.round(P/x[1])*x[1];return[w,O]}function u(x){return x.props.axis==="both"||x.props.axis==="x"}function d(x){return x.props.axis==="both"||x.props.axis==="y"}function g(x,k,P){const w=typeof k=="number"?(0,n.getTouch)(x,k):null;if(typeof k=="number"&&!w)return null;const O=M(P),m=P.props.offsetParent||O.offsetParent||O.ownerDocument.body;return(0,n.offsetXYFromParent)(w||x,m,P.props.scale)}function E(x,k,P){const w=!(0,r.isNum)(x.lastX),O=M(x);return w?{node:O,deltaX:0,deltaY:0,lastX:k,lastY:P,x:k,y:P}:{node:O,deltaX:k-x.lastX,deltaY:P-x.lastY,lastX:x.lastX,lastY:x.lastY,x:k,y:P}}function v(x,k){const P=x.props.scale;return{node:k.node,x:x.state.x+k.deltaX/P,y:x.state.y+k.deltaY/P,deltaX:k.deltaX/P,deltaY:k.deltaY/P,lastX:x.state.x,lastY:x.state.y}}function z(x){return{left:x.left,top:x.top,right:x.right,bottom:x.bottom}}function M(x){const k=x.findDOMNode();if(!k)throw new Error("<DraggableCore>: Unmounted during event!");return k}return Jt}var Ye={},Ti={},Qr;function Bo(){if(Qr)return Ti;Qr=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.default=r;function r(){}return Ti}var to;function Rl(){if(to)return Ye;to=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=void 0;var r=z(Vt()),n=E(ce()),a=E(mn()),l=xn(),u=Ao(),d=ki(),g=E(Bo());function E(m){return m&&m.__esModule?m:{default:m}}function v(m){if(typeof WeakMap!="function")return null;var c=new WeakMap,h=new WeakMap;return(v=function(p){return p?h:c})(m)}function z(m,c){if(m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var h=v(c);if(h&&h.has(m))return h.get(m);var p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in m)if(y!=="default"&&Object.prototype.hasOwnProperty.call(m,y)){var T=b?Object.getOwnPropertyDescriptor(m,y):null;T&&(T.get||T.set)?Object.defineProperty(p,y,T):p[y]=m[y]}return p.default=m,h&&h.set(m,p),p}function M(m,c,h){return c=x(c),c in m?Object.defineProperty(m,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):m[c]=h,m}function x(m){var c=k(m,"string");return typeof c=="symbol"?c:String(c)}function k(m,c){if(typeof m!="object"||m===null)return m;var h=m[Symbol.toPrimitive];if(h!==void 0){var p=h.call(m,c);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(m)}const P={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let w=P.mouse,O=class extends r.Component{constructor(){super(...arguments),M(this,"dragging",!1),M(this,"lastX",NaN),M(this,"lastY",NaN),M(this,"touchIdentifier",null),M(this,"mounted",!1),M(this,"handleDragStart",c=>{if(this.props.onMouseDown(c),!this.props.allowAnyClick&&typeof c.button=="number"&&c.button!==0)return!1;const h=this.findDOMNode();if(!h||!h.ownerDocument||!h.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:p}=h;if(this.props.disabled||!(c.target instanceof p.defaultView.Node)||this.props.handle&&!(0,l.matchesSelectorAndParentsTo)(c.target,this.props.handle,h)||this.props.cancel&&(0,l.matchesSelectorAndParentsTo)(c.target,this.props.cancel,h))return;c.type==="touchstart"&&c.preventDefault();const b=(0,l.getTouchIdentifier)(c);this.touchIdentifier=b;const y=(0,u.getControlPosition)(c,b,this);if(y==null)return;const{x:T,y:_}=y,S=(0,u.createCoreData)(this,T,_);(0,g.default)("DraggableCore: handleDragStart: %j",S),(0,g.default)("calling",this.props.onStart),!(this.props.onStart(c,S)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,l.addUserSelectStyles)(p),this.dragging=!0,this.lastX=T,this.lastY=_,(0,l.addEvent)(p,w.move,this.handleDrag),(0,l.addEvent)(p,w.stop,this.handleDragStop))}),M(this,"handleDrag",c=>{const h=(0,u.getControlPosition)(c,this.touchIdentifier,this);if(h==null)return;let{x:p,y:b}=h;if(Array.isArray(this.props.grid)){let _=p-this.lastX,S=b-this.lastY;if([_,S]=(0,u.snapToGrid)(this.props.grid,_,S),!_&&!S)return;p=this.lastX+_,b=this.lastY+S}const y=(0,u.createCoreData)(this,p,b);if((0,g.default)("DraggableCore: handleDrag: %j",y),this.props.onDrag(c,y)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const S=document.createEvent("MouseEvents");S.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(S)}return}this.lastX=p,this.lastY=b}),M(this,"handleDragStop",c=>{if(!this.dragging)return;const h=(0,u.getControlPosition)(c,this.touchIdentifier,this);if(h==null)return;let{x:p,y:b}=h;if(Array.isArray(this.props.grid)){let S=p-this.lastX||0,A=b-this.lastY||0;[S,A]=(0,u.snapToGrid)(this.props.grid,S,A),p=this.lastX+S,b=this.lastY+A}const y=(0,u.createCoreData)(this,p,b);if(this.props.onStop(c,y)===!1||this.mounted===!1)return!1;const _=this.findDOMNode();_&&this.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(_.ownerDocument),(0,g.default)("DraggableCore: handleDragStop: %j",y),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,_&&((0,g.default)("DraggableCore: Removing handlers"),(0,l.removeEvent)(_.ownerDocument,w.move,this.handleDrag),(0,l.removeEvent)(_.ownerDocument,w.stop,this.handleDragStop))}),M(this,"onMouseDown",c=>(w=P.mouse,this.handleDragStart(c))),M(this,"onMouseUp",c=>(w=P.mouse,this.handleDragStop(c))),M(this,"onTouchStart",c=>(w=P.touch,this.handleDragStart(c))),M(this,"onTouchEnd",c=>(w=P.touch,this.handleDragStop(c)))}componentDidMount(){this.mounted=!0;const c=this.findDOMNode();c&&(0,l.addEvent)(c,P.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const c=this.findDOMNode();if(c){const{ownerDocument:h}=c;(0,l.removeEvent)(h,P.mouse.move,this.handleDrag),(0,l.removeEvent)(h,P.touch.move,this.handleDrag),(0,l.removeEvent)(h,P.mouse.stop,this.handleDragStop),(0,l.removeEvent)(h,P.touch.stop,this.handleDragStop),(0,l.removeEvent)(c,P.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(h)}}findDOMNode(){var c,h;return(c=this.props)!==null&&c!==void 0&&c.nodeRef?(h=this.props)===null||h===void 0||(h=h.nodeRef)===null||h===void 0?void 0:h.current:a.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Ye.default=O,M(O,"displayName","DraggableCore"),M(O,"propTypes",{allowAnyClick:n.default.bool,children:n.default.node.isRequired,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:function(m,c){if(m[c]&&m[c].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:n.default.arrayOf(n.default.number),handle:n.default.string,cancel:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number,className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),M(O,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Ye}var eo;function Dl(){return eo||(eo=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return v.default}}),r.default=void 0;var n=k(Vt()),a=M(ce()),l=M(mn()),u=M(Ml),d=xn(),g=Ao(),E=ki(),v=M(Rl()),z=M(Bo());function M(h){return h&&h.__esModule?h:{default:h}}function x(h){if(typeof WeakMap!="function")return null;var p=new WeakMap,b=new WeakMap;return(x=function(y){return y?b:p})(h)}function k(h,p){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var b=x(p);if(b&&b.has(h))return b.get(h);var y={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in h)if(_!=="default"&&Object.prototype.hasOwnProperty.call(h,_)){var S=T?Object.getOwnPropertyDescriptor(h,_):null;S&&(S.get||S.set)?Object.defineProperty(y,_,S):y[_]=h[_]}return y.default=h,b&&b.set(h,y),y}function P(){return P=Object.assign?Object.assign.bind():function(h){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(h[y]=b[y])}return h},P.apply(this,arguments)}function w(h,p,b){return p=O(p),p in h?Object.defineProperty(h,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[p]=b,h}function O(h){var p=m(h,"string");return typeof p=="symbol"?p:String(p)}function m(h,p){if(typeof h!="object"||h===null)return h;var b=h[Symbol.toPrimitive];if(b!==void 0){var y=b.call(h,p);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(h)}class c extends n.Component{static getDerivedStateFromProps(p,b){let{position:y}=p,{prevPropsPosition:T}=b;return y&&(!T||y.x!==T.x||y.y!==T.y)?((0,z.default)("Draggable: getDerivedStateFromProps %j",{position:y,prevPropsPosition:T}),{x:y.x,y:y.y,prevPropsPosition:{...y}}):null}constructor(p){super(p),w(this,"onDragStart",(b,y)=>{if((0,z.default)("Draggable: onDragStart: %j",y),this.props.onStart(b,(0,g.createDraggableData)(this,y))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(b,y)=>{if(!this.state.dragging)return!1;(0,z.default)("Draggable: onDrag: %j",y);const T=(0,g.createDraggableData)(this,y),_={x:T.x,y:T.y,slackX:0,slackY:0};if(this.props.bounds){const{x:A,y:H}=_;_.x+=this.state.slackX,_.y+=this.state.slackY;const[W,Z]=(0,g.getBoundPosition)(this,_.x,_.y);_.x=W,_.y=Z,_.slackX=this.state.slackX+(A-_.x),_.slackY=this.state.slackY+(H-_.y),T.x=_.x,T.y=_.y,T.deltaX=_.x-this.state.x,T.deltaY=_.y-this.state.y}if(this.props.onDrag(b,T)===!1)return!1;this.setState(_)}),w(this,"onDragStop",(b,y)=>{if(!this.state.dragging||this.props.onStop(b,(0,g.createDraggableData)(this,y))===!1)return!1;(0,z.default)("Draggable: onDragStop: %j",y);const _={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:A,y:H}=this.props.position;_.x=A,_.y=H}this.setState(_)}),this.state={dragging:!1,dragged:!1,x:p.position?p.position.x:p.defaultPosition.x,y:p.position?p.position.y:p.defaultPosition.y,prevPropsPosition:{...p.position},slackX:0,slackY:0,isElementSVG:!1},p.position&&!(p.onDrag||p.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var p,b;return(p=(b=this.props)===null||b===void 0||(b=b.nodeRef)===null||b===void 0?void 0:b.current)!==null&&p!==void 0?p:l.default.findDOMNode(this)}render(){const{axis:p,bounds:b,children:y,defaultPosition:T,defaultClassName:_,defaultClassNameDragging:S,defaultClassNameDragged:A,position:H,positionOffset:W,scale:Z,...V}=this.props;let G={},tt=null;const ot=!!!H||this.state.dragging,K=H||T,pt={x:(0,g.canDragX)(this)&&ot?this.state.x:K.x,y:(0,g.canDragY)(this)&&ot?this.state.y:K.y};this.state.isElementSVG?tt=(0,d.createSVGTransform)(pt,W):G=(0,d.createCSSTransform)(pt,W);const $=(0,u.default)(y.props.className||"",_,{[S]:this.state.dragging,[A]:this.state.dragged});return n.createElement(v.default,P({},V,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(y),{className:$,style:{...y.props.style,...G},transform:tt}))}}r.default=c,w(c,"displayName","Draggable"),w(c,"propTypes",{...v.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:E.dontSetMe,style:E.dontSetMe,transform:E.dontSetMe}),w(c,"defaultProps",{...v.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(dn)),dn}var io;function bn(){if(io)return $e.exports;io=1;const{default:r,DraggableCore:n}=Dl();return $e.exports=r,$e.exports.default=r,$e.exports.DraggableCore=n,$e.exports}var Xe={exports:{}},Ke={},Ci={},no;function kl(){if(no)return Ci;no=1,Ci.__esModule=!0,Ci.cloneElement=E;var r=n(Vt());function n(v){return v&&v.__esModule?v:{default:v}}function a(v,z){var M=Object.keys(v);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(v);z&&(x=x.filter(function(k){return Object.getOwnPropertyDescriptor(v,k).enumerable})),M.push.apply(M,x)}return M}function l(v){for(var z=1;z<arguments.length;z++){var M=arguments[z]!=null?arguments[z]:{};z%2?a(Object(M),!0).forEach(function(x){u(v,x,M[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(M)):a(Object(M)).forEach(function(x){Object.defineProperty(v,x,Object.getOwnPropertyDescriptor(M,x))})}return v}function u(v,z,M){return z=d(z),z in v?Object.defineProperty(v,z,{value:M,enumerable:!0,configurable:!0,writable:!0}):v[z]=M,v}function d(v){var z=g(v,"string");return typeof z=="symbol"?z:String(z)}function g(v,z){if(typeof v!="object"||v===null)return v;var M=v[Symbol.toPrimitive];if(M!==void 0){var x=M.call(v,z);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(v)}function E(v,z){return z.style&&v.props.style&&(z.style=l(l({},v.props.style),z.style)),z.className&&v.props.className&&(z.className=v.props.className+" "+z.className),r.default.cloneElement(v,z)}return Ci}var Je={},ro;function No(){if(ro)return Je;ro=1,Je.__esModule=!0,Je.resizableProps=void 0;var r=n(ce());bn();function n(l){return l&&l.__esModule?l:{default:l}}var a={axis:r.default.oneOf(["both","x","y","none"]),className:r.default.string,children:r.default.element.isRequired,draggableOpts:r.default.shape({allowAnyClick:r.default.bool,cancel:r.default.string,children:r.default.node,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:r.default.node,grid:r.default.arrayOf(r.default.number),handle:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number}),height:function(){for(var u=arguments.length,d=new Array(u),g=0;g<u;g++)d[g]=arguments[g];var E=d[0];if(E.axis==="both"||E.axis==="y"){var v;return(v=r.default.number).isRequired.apply(v,d)}return r.default.number.apply(r.default,d)},handle:r.default.oneOfType([r.default.node,r.default.func]),handleSize:r.default.arrayOf(r.default.number),lockAspectRatio:r.default.bool,maxConstraints:r.default.arrayOf(r.default.number),minConstraints:r.default.arrayOf(r.default.number),onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,resizeHandles:r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:r.default.number,width:function(){for(var u=arguments.length,d=new Array(u),g=0;g<u;g++)d[g]=arguments[g];var E=d[0];if(E.axis==="both"||E.axis==="x"){var v;return(v=r.default.number).isRequired.apply(v,d)}return r.default.number.apply(r.default,d)}};return Je.resizableProps=a,Je}var oo;function Zo(){if(oo)return Ke;oo=1,Ke.__esModule=!0,Ke.default=void 0;var r=g(Vt()),n=bn(),a=kl(),l=No(),u=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function d(c){if(typeof WeakMap!="function")return null;var h=new WeakMap,p=new WeakMap;return(d=function(y){return y?p:h})(c)}function g(c,h){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var p=d(h);if(p&&p.has(c))return p.get(c);var b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in c)if(T!=="default"&&Object.prototype.hasOwnProperty.call(c,T)){var _=y?Object.getOwnPropertyDescriptor(c,T):null;_&&(_.get||_.set)?Object.defineProperty(b,T,_):b[T]=c[T]}return b.default=c,p&&p.set(c,b),b}function E(){return E=Object.assign?Object.assign.bind():function(c){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(c[b]=p[b])}return c},E.apply(this,arguments)}function v(c,h){if(c==null)return{};var p={},b=Object.keys(c),y,T;for(T=0;T<b.length;T++)y=b[T],!(h.indexOf(y)>=0)&&(p[y]=c[y]);return p}function z(c,h){var p=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);h&&(b=b.filter(function(y){return Object.getOwnPropertyDescriptor(c,y).enumerable})),p.push.apply(p,b)}return p}function M(c){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?z(Object(p),!0).forEach(function(b){x(c,b,p[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(p)):z(Object(p)).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(p,b))})}return c}function x(c,h,p){return h=k(h),h in c?Object.defineProperty(c,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[h]=p,c}function k(c){var h=P(c,"string");return typeof h=="symbol"?h:String(h)}function P(c,h){if(typeof c!="object"||c===null)return c;var p=c[Symbol.toPrimitive];if(p!==void 0){var b=p.call(c,h);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(c)}function w(c,h){c.prototype=Object.create(h.prototype),c.prototype.constructor=c,O(c,h)}function O(c,h){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,y){return b.__proto__=y,b},O(c,h)}var m=function(c){w(h,c);function h(){for(var b,y=arguments.length,T=new Array(y),_=0;_<y;_++)T[_]=arguments[_];return b=c.call.apply(c,[this].concat(T))||this,b.handleRefs={},b.lastHandleRect=null,b.slack=null,b}var p=h.prototype;return p.componentWillUnmount=function(){this.resetData()},p.resetData=function(){this.lastHandleRect=this.slack=null},p.runConstraints=function(y,T){var _=this.props,S=_.minConstraints,A=_.maxConstraints,H=_.lockAspectRatio;if(!S&&!A&&!H)return[y,T];if(H){var W=this.props.width/this.props.height,Z=y-this.props.width,V=T-this.props.height;Math.abs(Z)>Math.abs(V*W)?T=y/W:y=T*W}var G=y,tt=T,Y=this.slack||[0,0],ot=Y[0],K=Y[1];return y+=ot,T+=K,S&&(y=Math.max(S[0],y),T=Math.max(S[1],T)),A&&(y=Math.min(A[0],y),T=Math.min(A[1],T)),this.slack=[ot+(G-y),K+(tt-T)],[y,T]},p.resizeHandler=function(y,T){var _=this;return function(S,A){var H=A.node,W=A.deltaX,Z=A.deltaY;y==="onResizeStart"&&_.resetData();var V=(_.props.axis==="both"||_.props.axis==="x")&&T!=="n"&&T!=="s",G=(_.props.axis==="both"||_.props.axis==="y")&&T!=="e"&&T!=="w";if(!(!V&&!G)){var tt=T[0],Y=T[T.length-1],ot=H.getBoundingClientRect();if(_.lastHandleRect!=null){if(Y==="w"){var K=ot.left-_.lastHandleRect.left;W+=K}if(tt==="n"){var pt=ot.top-_.lastHandleRect.top;Z+=pt}}_.lastHandleRect=ot,Y==="w"&&(W=-W),tt==="n"&&(Z=-Z);var $=_.props.width+(V?W/_.props.transformScale:0),Q=_.props.height+(G?Z/_.props.transformScale:0),yt=_.runConstraints($,Q);$=yt[0],Q=yt[1];var Pt=$!==_.props.width||Q!==_.props.height,xt=typeof _.props[y]=="function"?_.props[y]:null,mt=y==="onResize"&&!Pt;xt&&!mt&&(S.persist==null||S.persist(),xt(S,{node:H,size:{width:$,height:Q},handle:T})),y==="onResizeStop"&&_.resetData()}}},p.renderResizeHandle=function(y,T){var _=this.props.handle;if(!_)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+y,ref:T});if(typeof _=="function")return _(y,T);var S=typeof _.type=="string",A=M({ref:T},S?{}:{handleAxis:y});return r.cloneElement(_,A)},p.render=function(){var y=this,T=this.props,_=T.children,S=T.className,A=T.draggableOpts;T.width,T.height,T.handle,T.handleSize,T.lockAspectRatio,T.axis,T.minConstraints,T.maxConstraints,T.onResize,T.onResizeStop,T.onResizeStart;var H=T.resizeHandles;T.transformScale;var W=v(T,u);return(0,a.cloneElement)(_,M(M({},W),{},{className:(S?S+" ":"")+"react-resizable",children:[].concat(_.props.children,H.map(function(Z){var V,G=(V=y.handleRefs[Z])!=null?V:y.handleRefs[Z]=r.createRef();return r.createElement(n.DraggableCore,E({},A,{nodeRef:G,key:"resizableHandle-"+Z,onStop:y.resizeHandler("onResizeStop",Z),onStart:y.resizeHandler("onResizeStart",Z),onDrag:y.resizeHandler("onResize",Z)}),y.renderResizeHandle(Z,G))}))}))},h}(r.Component);return Ke.default=m,m.propTypes=l.resizableProps,m.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Ke}var Qe={},so;function Il(){if(so)return Qe;so=1,Qe.__esModule=!0,Qe.default=void 0;var r=E(Vt()),n=d(ce()),a=d(Zo()),l=No(),u=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function d(h){return h&&h.__esModule?h:{default:h}}function g(h){if(typeof WeakMap!="function")return null;var p=new WeakMap,b=new WeakMap;return(g=function(T){return T?b:p})(h)}function E(h,p){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var b=g(p);if(b&&b.has(h))return b.get(h);var y={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in h)if(_!=="default"&&Object.prototype.hasOwnProperty.call(h,_)){var S=T?Object.getOwnPropertyDescriptor(h,_):null;S&&(S.get||S.set)?Object.defineProperty(y,_,S):y[_]=h[_]}return y.default=h,b&&b.set(h,y),y}function v(){return v=Object.assign?Object.assign.bind():function(h){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(h[y]=b[y])}return h},v.apply(this,arguments)}function z(h,p){var b=Object.keys(h);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(h);p&&(y=y.filter(function(T){return Object.getOwnPropertyDescriptor(h,T).enumerable})),b.push.apply(b,y)}return b}function M(h){for(var p=1;p<arguments.length;p++){var b=arguments[p]!=null?arguments[p]:{};p%2?z(Object(b),!0).forEach(function(y){x(h,y,b[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(b)):z(Object(b)).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(b,y))})}return h}function x(h,p,b){return p=k(p),p in h?Object.defineProperty(h,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[p]=b,h}function k(h){var p=P(h,"string");return typeof p=="symbol"?p:String(p)}function P(h,p){if(typeof h!="object"||h===null)return h;var b=h[Symbol.toPrimitive];if(b!==void 0){var y=b.call(h,p);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(h)}function w(h,p){if(h==null)return{};var b={},y=Object.keys(h),T,_;for(_=0;_<y.length;_++)T=y[_],!(p.indexOf(T)>=0)&&(b[T]=h[T]);return b}function O(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,m(h,p)}function m(h,p){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,T){return y.__proto__=T,y},m(h,p)}var c=function(h){O(p,h);function p(){for(var y,T=arguments.length,_=new Array(T),S=0;S<T;S++)_[S]=arguments[S];return y=h.call.apply(h,[this].concat(_))||this,y.state={width:y.props.width,height:y.props.height,propsWidth:y.props.width,propsHeight:y.props.height},y.onResize=function(A,H){var W=H.size;y.props.onResize?(A.persist==null||A.persist(),y.setState(W,function(){return y.props.onResize&&y.props.onResize(A,H)})):y.setState(W)},y}p.getDerivedStateFromProps=function(T,_){return _.propsWidth!==T.width||_.propsHeight!==T.height?{width:T.width,height:T.height,propsWidth:T.width,propsHeight:T.height}:null};var b=p.prototype;return b.render=function(){var T=this.props,_=T.handle,S=T.handleSize;T.onResize;var A=T.onResizeStart,H=T.onResizeStop,W=T.draggableOpts,Z=T.minConstraints,V=T.maxConstraints,G=T.lockAspectRatio,tt=T.axis;T.width,T.height;var Y=T.resizeHandles,ot=T.style,K=T.transformScale,pt=w(T,u);return r.createElement(a.default,{axis:tt,draggableOpts:W,handle:_,handleSize:S,height:this.state.height,lockAspectRatio:G,maxConstraints:V,minConstraints:Z,onResizeStart:A,onResize:this.onResize,onResizeStop:H,resizeHandles:Y,transformScale:K,width:this.state.width},r.createElement("div",v({},pt,{style:M(M({},ot),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},p}(r.Component);return Qe.default=c,c.propTypes=M(M({},l.resizableProps),{},{children:n.default.element}),Qe}var ao;function Al(){return ao||(ao=1,Xe.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Xe.exports.Resizable=Zo().default,Xe.exports.ResizableBox=Il().default),Xe.exports}var oe={},lo;function Ho(){if(lo)return oe;lo=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.resizeHandleType=oe.resizeHandleAxesType=oe.default=void 0;var r=a(ce()),n=a(Vt());function a(d){return d&&d.__esModule?d:{default:d}}const l=oe.resizeHandleAxesType=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),u=oe.resizeHandleType=r.default.oneOfType([r.default.node,r.default.func]);return oe.default={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(d){d.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(d){var g=d.layout;g!==void 0&&Re().validateLayout(g,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:l,resizeHandle:u,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(d,g){const E=d[g],v={};n.default.Children.forEach(E,function(z){if((z==null?void 0:z.key)!=null){if(v[z.key])throw new Error('Duplicate child key "'+z.key+'" found! This will cause problems in ReactGridLayout.');v[z.key]=!0}})},innerRef:r.default.any},oe}var uo;function Bl(){if(uo)return Ue;uo=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var r=v(Vt()),n=v(ce()),a=bn(),l=Al(),u=Re(),d=wn(),g=Ho(),E=v(yn());function v(P){return P&&P.__esModule?P:{default:P}}function z(P,w,O){return w=M(w),w in P?Object.defineProperty(P,w,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[w]=O,P}function M(P){var w=x(P,"string");return typeof w=="symbol"?w:String(w)}function x(P,w){if(typeof P!="object"||P===null)return P;var O=P[Symbol.toPrimitive];if(O!==void 0){var m=O.call(P,w);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(P)}let k=class extends r.default.Component{constructor(){super(...arguments),z(this,"state",{resizing:null,dragging:null,className:""}),z(this,"elementRef",r.default.createRef()),z(this,"onDragStart",(w,O)=>{let{node:m}=O;const{onDragStart:c,transformScale:h}=this.props;if(!c)return;const p={top:0,left:0},{offsetParent:b}=m;if(!b)return;const y=b.getBoundingClientRect(),T=m.getBoundingClientRect(),_=T.left/h,S=y.left/h,A=T.top/h,H=y.top/h;p.left=_-S+b.scrollLeft,p.top=A-H+b.scrollTop,this.setState({dragging:p});const{x:W,y:Z}=(0,d.calcXY)(this.getPositionParams(),p.top,p.left,this.props.w,this.props.h);return c.call(this,this.props.i,W,Z,{e:w,node:m,newPosition:p})}),z(this,"onDrag",(w,O)=>{let{node:m,deltaX:c,deltaY:h}=O;const{onDrag:p}=this.props;if(!p)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let b=this.state.dragging.top+h,y=this.state.dragging.left+c;const{isBounded:T,i:_,w:S,h:A,containerWidth:H}=this.props,W=this.getPositionParams();if(T){const{offsetParent:tt}=m;if(tt){const{margin:Y,rowHeight:ot,containerPadding:K}=this.props,pt=tt.clientHeight-(0,d.calcGridItemWHPx)(A,ot,Y[1]);b=(0,d.clamp)(b-K[1],0,pt);const $=(0,d.calcGridColWidth)(W),Q=H-(0,d.calcGridItemWHPx)(S,$,Y[0]);y=(0,d.clamp)(y-K[0],0,Q)}}const Z={top:b,left:y};this.setState({dragging:Z});const{x:V,y:G}=(0,d.calcXY)(W,b,y,S,A);return p.call(this,_,V,G,{e:w,node:m,newPosition:Z})}),z(this,"onDragStop",(w,O)=>{let{node:m}=O;const{onDragStop:c}=this.props;if(!c)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:h,h:p,i:b}=this.props,{left:y,top:T}=this.state.dragging,_={top:T,left:y};this.setState({dragging:null});const{x:S,y:A}=(0,d.calcXY)(this.getPositionParams(),T,y,h,p);return c.call(this,b,S,A,{e:w,node:m,newPosition:_})}),z(this,"onResizeStop",(w,O,m)=>this.onResizeHandler(w,O,m,"onResizeStop")),z(this,"onResizeStart",(w,O,m)=>this.onResizeHandler(w,O,m,"onResizeStart")),z(this,"onResize",(w,O,m)=>this.onResizeHandler(w,O,m,"onResize"))}shouldComponentUpdate(w,O){if(this.props.children!==w.children||this.props.droppingPosition!==w.droppingPosition)return!0;const m=(0,d.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),c=(0,d.calcGridItemPosition)(this.getPositionParams(w),w.x,w.y,w.w,w.h,O);return!(0,u.fastPositionEqual)(m,c)||this.props.useCSSTransforms!==w.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(w){this.moveDroppingItem(w)}moveDroppingItem(w){const{droppingPosition:O}=this.props;if(!O)return;const m=this.elementRef.current;if(!m)return;const c=w.droppingPosition||{left:0,top:0},{dragging:h}=this.state,p=h&&O.left!==c.left||O.top!==c.top;if(!h)this.onDragStart(O.e,{node:m,deltaX:O.left,deltaY:O.top});else if(p){const b=O.left-h.left,y=O.top-h.top;this.onDrag(O.e,{node:m,deltaX:b,deltaY:y})}}getPositionParams(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:w.cols,containerPadding:w.containerPadding,containerWidth:w.containerWidth,margin:w.margin,maxRows:w.maxRows,rowHeight:w.rowHeight}}createStyle(w){const{usePercentages:O,containerWidth:m,useCSSTransforms:c}=this.props;let h;return c?h=(0,u.setTransform)(w):(h=(0,u.setTopLeft)(w),O&&(h.left=(0,u.perc)(w.left/m),h.width=(0,u.perc)(w.width/m))),h}mixinDraggable(w,O){return r.default.createElement(a.DraggableCore,{disabled:!O,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},w)}curryResizeHandler(w,O){return(m,c)=>O(m,c,w)}mixinResizable(w,O,m){const{cols:c,minW:h,minH:p,maxW:b,maxH:y,transformScale:T,resizeHandles:_,resizeHandle:S}=this.props,A=this.getPositionParams(),H=(0,d.calcGridItemPosition)(A,0,0,c,0).width,W=(0,d.calcGridItemPosition)(A,0,0,h,p),Z=(0,d.calcGridItemPosition)(A,0,0,b,y),V=[W.width,W.height],G=[Math.min(Z.width,H),Math.min(Z.height,1/0)];return r.default.createElement(l.Resizable,{draggableOpts:{disabled:!m},className:m?void 0:"react-resizable-hide",width:O.width,height:O.height,minConstraints:V,maxConstraints:G,onResizeStop:this.curryResizeHandler(O,this.onResizeStop),onResizeStart:this.curryResizeHandler(O,this.onResizeStart),onResize:this.curryResizeHandler(O,this.onResize),transformScale:T,resizeHandles:_,handle:S},w)}onResizeHandler(w,O,m,c){let{node:h,size:p,handle:b}=O;const y=this.props[c];if(!y)return;const{x:T,y:_,i:S,maxH:A,minH:H,containerWidth:W}=this.props,{minW:Z,maxW:V}=this.props;let G=p;h&&(G=(0,u.resizeItemInDirection)(b,m,p,W),this.setState({resizing:c==="onResizeStop"?null:G}));let{w:tt,h:Y}=(0,d.calcWH)(this.getPositionParams(),G.width,G.height,T,_,b);tt=(0,d.clamp)(tt,Math.max(Z,1),V),Y=(0,d.clamp)(Y,H,A),y.call(this,S,tt,Y,{e:w,node:h,size:G,handle:b})}render(){const{x:w,y:O,w:m,h:c,isDraggable:h,isResizable:p,droppingPosition:b,useCSSTransforms:y}=this.props,T=(0,d.calcGridItemPosition)(this.getPositionParams(),w,O,m,c,this.state),_=r.default.Children.only(this.props.children);let S=r.default.cloneElement(_,{ref:this.elementRef,className:(0,E.default)("react-grid-item",_.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":h,"react-draggable-dragging":!!this.state.dragging,dropping:!!b,cssTransforms:y}),style:{...this.props.style,..._.props.style,...this.createStyle(T)}});return S=this.mixinResizable(S,T,p),S=this.mixinDraggable(S,h),S}};return Ue.default=k,z(k,"propTypes",{children:n.default.element,cols:n.default.number.isRequired,containerWidth:n.default.number.isRequired,rowHeight:n.default.number.isRequired,margin:n.default.array.isRequired,maxRows:n.default.number.isRequired,containerPadding:n.default.array.isRequired,x:n.default.number.isRequired,y:n.default.number.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired,minW:function(P,w){const O=P[w];if(typeof O!="number")return new Error("minWidth not Number");if(O>P.w||O>P.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(P,w){const O=P[w];if(typeof O!="number")return new Error("maxWidth not Number");if(O<P.w||O<P.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(P,w){const O=P[w];if(typeof O!="number")return new Error("minHeight not Number");if(O>P.h||O>P.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(P,w){const O=P[w];if(typeof O!="number")return new Error("maxHeight not Number");if(O<P.h||O<P.minH)return new Error("maxHeight smaller than item height/minHeight")},i:n.default.string.isRequired,resizeHandles:g.resizeHandleAxesType,resizeHandle:g.resizeHandleType,onDragStop:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onResizeStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,isDraggable:n.default.bool.isRequired,isResizable:n.default.bool.isRequired,isBounded:n.default.bool.isRequired,static:n.default.bool,useCSSTransforms:n.default.bool.isRequired,transformScale:n.default.number,className:n.default.string,handle:n.default.string,cancel:n.default.string,droppingPosition:n.default.shape({e:n.default.object.isRequired,left:n.default.number.isRequired,top:n.default.number.isRequired})}),z(k,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Ue}var ho;function Wo(){if(ho)return Ve;ho=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;var r=z(Vt()),n=vn(),a=E(yn()),l=Re(),u=wn(),d=E(Bl()),g=E(Ho());function E(m){return m&&m.__esModule?m:{default:m}}function v(m){if(typeof WeakMap!="function")return null;var c=new WeakMap,h=new WeakMap;return(v=function(p){return p?h:c})(m)}function z(m,c){if(m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var h=v(c);if(h&&h.has(m))return h.get(m);var p={__proto__:null},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in m)if(y!=="default"&&Object.prototype.hasOwnProperty.call(m,y)){var T=b?Object.getOwnPropertyDescriptor(m,y):null;T&&(T.get||T.set)?Object.defineProperty(p,y,T):p[y]=m[y]}return p.default=m,h&&h.set(m,p),p}function M(m,c,h){return c=x(c),c in m?Object.defineProperty(m,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):m[c]=h,m}function x(m){var c=k(m,"string");return typeof c=="symbol"?c:String(c)}function k(m,c){if(typeof m!="object"||m===null)return m;var h=m[Symbol.toPrimitive];if(h!==void 0){var p=h.call(m,c);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(m)}const P="react-grid-layout";let w=!1;try{w=/firefox/i.test(navigator.userAgent)}catch{}let O=class extends r.Component{constructor(){super(...arguments),M(this,"state",{activeDrag:null,layout:(0,l.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,l.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),M(this,"dragEnterCounter",0),M(this,"onDragStart",(c,h,p,b)=>{let{e:y,node:T}=b;const{layout:_}=this.state,S=(0,l.getLayoutItem)(_,c);if(!S)return;const A={w:S.w,h:S.h,x:S.x,y:S.y,placeholder:!0,i:c};return this.setState({oldDragItem:(0,l.cloneLayoutItem)(S),oldLayout:_,activeDrag:A}),this.props.onDragStart(_,S,S,null,y,T)}),M(this,"onDrag",(c,h,p,b)=>{let{e:y,node:T}=b;const{oldDragItem:_}=this.state;let{layout:S}=this.state;const{cols:A,allowOverlap:H,preventCollision:W}=this.props,Z=(0,l.getLayoutItem)(S,c);if(!Z)return;const V={w:Z.w,h:Z.h,x:Z.x,y:Z.y,placeholder:!0,i:c};S=(0,l.moveElement)(S,Z,h,p,!0,W,(0,l.compactType)(this.props),A,H),this.props.onDrag(S,_,Z,V,y,T),this.setState({layout:H?S:(0,l.compact)(S,(0,l.compactType)(this.props),A),activeDrag:V})}),M(this,"onDragStop",(c,h,p,b)=>{let{e:y,node:T}=b;if(!this.state.activeDrag)return;const{oldDragItem:_}=this.state;let{layout:S}=this.state;const{cols:A,preventCollision:H,allowOverlap:W}=this.props,Z=(0,l.getLayoutItem)(S,c);if(!Z)return;S=(0,l.moveElement)(S,Z,h,p,!0,H,(0,l.compactType)(this.props),A,W);const G=W?S:(0,l.compact)(S,(0,l.compactType)(this.props),A);this.props.onDragStop(G,_,Z,null,y,T);const{oldLayout:tt}=this.state;this.setState({activeDrag:null,layout:G,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(G,tt)}),M(this,"onResizeStart",(c,h,p,b)=>{let{e:y,node:T}=b;const{layout:_}=this.state,S=(0,l.getLayoutItem)(_,c);S&&(this.setState({oldResizeItem:(0,l.cloneLayoutItem)(S),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(_,S,S,null,y,T))}),M(this,"onResize",(c,h,p,b)=>{let{e:y,node:T,size:_,handle:S}=b;const{oldResizeItem:A}=this.state,{layout:H}=this.state,{cols:W,preventCollision:Z,allowOverlap:V}=this.props;let G=!1,tt,Y,ot;const[K,pt]=(0,l.withLayoutItem)(H,c,Q=>{let yt;return Y=Q.x,ot=Q.y,["sw","w","nw","n","ne"].indexOf(S)!==-1&&(["sw","nw","w"].indexOf(S)!==-1&&(Y=Q.x+(Q.w-h),h=Q.x!==Y&&Y<0?Q.w:h,Y=Y<0?0:Y),["ne","n","nw"].indexOf(S)!==-1&&(ot=Q.y+(Q.h-p),p=Q.y!==ot&&ot<0?Q.h:p,ot=ot<0?0:ot),G=!0),Z&&!V&&(yt=(0,l.getAllCollisions)(H,{...Q,w:h,h:p,x:Y,y:ot}).filter(xt=>xt.i!==Q.i).length>0,yt&&(ot=Q.y,p=Q.h,Y=Q.x,h=Q.w,G=!1)),Q.w=h,Q.h=p,Q});if(!pt)return;tt=K,G&&(tt=(0,l.moveElement)(K,pt,Y,ot,!0,this.props.preventCollision,(0,l.compactType)(this.props),W,V));const $={w:pt.w,h:pt.h,x:pt.x,y:pt.y,static:!0,i:c};this.props.onResize(tt,A,pt,$,y,T),this.setState({layout:V?tt:(0,l.compact)(tt,(0,l.compactType)(this.props),W),activeDrag:$})}),M(this,"onResizeStop",(c,h,p,b)=>{let{e:y,node:T}=b;const{layout:_,oldResizeItem:S}=this.state,{cols:A,allowOverlap:H}=this.props,W=(0,l.getLayoutItem)(_,c),Z=H?_:(0,l.compact)(_,(0,l.compactType)(this.props),A);this.props.onResizeStop(Z,S,W,null,y,T);const{oldLayout:V}=this.state;this.setState({activeDrag:null,layout:Z,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(Z,V)}),M(this,"onDragOver",c=>{var K;if(c.preventDefault(),c.stopPropagation(),w&&!((K=c.nativeEvent.target)!=null&&K.classList.contains(P)))return!1;const{droppingItem:h,onDropDragOver:p,margin:b,cols:y,rowHeight:T,maxRows:_,width:S,containerPadding:A,transformScale:H}=this.props,W=p==null?void 0:p(c);if(W===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const Z={...h,...W},{layout:V}=this.state,G=c.currentTarget.getBoundingClientRect(),tt=c.clientX-G.left,Y=c.clientY-G.top,ot={left:tt/H,top:Y/H,e:c};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:pt,top:$}=this.state.droppingPosition;(pt!=tt||$!=Y)&&this.setState({droppingPosition:ot})}}else{const pt={cols:y,margin:b,maxRows:_,rowHeight:T,containerWidth:S,containerPadding:A||b},$=(0,u.calcXY)(pt,Y,tt,Z.w,Z.h);this.setState({droppingDOMNode:r.createElement("div",{key:Z.i}),droppingPosition:ot,layout:[...V,{...Z,x:$.x,y:$.y,static:!1,isDraggable:!0}]})}}),M(this,"removeDroppingPlaceholder",()=>{const{droppingItem:c,cols:h}=this.props,{layout:p}=this.state,b=(0,l.compact)(p.filter(y=>y.i!==c.i),(0,l.compactType)(this.props),h,this.props.allowOverlap);this.setState({layout:b,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),M(this,"onDragLeave",c=>{c.preventDefault(),c.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),M(this,"onDragEnter",c=>{c.preventDefault(),c.stopPropagation(),this.dragEnterCounter++}),M(this,"onDrop",c=>{c.preventDefault(),c.stopPropagation();const{droppingItem:h}=this.props,{layout:p}=this.state,b=p.find(y=>y.i===h.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(p,b,c)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(c,h){let p;return h.activeDrag?null:(!(0,n.deepEqual)(c.layout,h.propsLayout)||c.compactType!==h.compactType?p=c.layout:(0,l.childrenEqual)(c.children,h.children)||(p=h.layout),p?{layout:(0,l.synchronizeLayoutWithChildren)(p,c.children,c.cols,(0,l.compactType)(c),c.allowOverlap),compactType:c.compactType,children:c.children,propsLayout:c.layout}:null)}shouldComponentUpdate(c,h){return this.props.children!==c.children||!(0,l.fastRGLPropsEqual)(this.props,c,n.deepEqual)||this.state.activeDrag!==h.activeDrag||this.state.mounted!==h.mounted||this.state.droppingPosition!==h.droppingPosition}componentDidUpdate(c,h){if(!this.state.activeDrag){const p=this.state.layout,b=h.layout;this.onLayoutMaybeChanged(p,b)}}containerHeight(){if(!this.props.autoSize)return;const c=(0,l.bottom)(this.state.layout),h=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return c*this.props.rowHeight+(c-1)*this.props.margin[1]+h*2+"px"}onLayoutMaybeChanged(c,h){h||(h=this.state.layout),(0,n.deepEqual)(h,c)||this.props.onLayoutChange(c)}placeholder(){const{activeDrag:c}=this.state;if(!c)return null;const{width:h,cols:p,margin:b,containerPadding:y,rowHeight:T,maxRows:_,useCSSTransforms:S,transformScale:A}=this.props;return r.createElement(d.default,{w:c.w,h:c.h,x:c.x,y:c.y,i:c.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:h,cols:p,margin:b,containerPadding:y||b,maxRows:_,rowHeight:T,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:S,transformScale:A},r.createElement("div",null))}processGridItem(c,h){if(!c||!c.key)return;const p=(0,l.getLayoutItem)(this.state.layout,String(c.key));if(!p)return null;const{width:b,cols:y,margin:T,containerPadding:_,rowHeight:S,maxRows:A,isDraggable:H,isResizable:W,isBounded:Z,useCSSTransforms:V,transformScale:G,draggableCancel:tt,draggableHandle:Y,resizeHandles:ot,resizeHandle:K}=this.props,{mounted:pt,droppingPosition:$}=this.state,Q=typeof p.isDraggable=="boolean"?p.isDraggable:!p.static&&H,yt=typeof p.isResizable=="boolean"?p.isResizable:!p.static&&W,Pt=p.resizeHandles||ot,xt=Q&&Z&&p.isBounded!==!1;return r.createElement(d.default,{containerWidth:b,cols:y,margin:T,containerPadding:_||T,maxRows:A,rowHeight:S,cancel:tt,handle:Y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:Q,isResizable:yt,isBounded:xt,useCSSTransforms:V&&pt,usePercentages:!pt,transformScale:G,w:p.w,h:p.h,x:p.x,y:p.y,i:p.i,minH:p.minH,minW:p.minW,maxH:p.maxH,maxW:p.maxW,static:p.static,droppingPosition:h?$:void 0,resizeHandles:Pt,resizeHandle:K},c)}render(){const{className:c,style:h,isDroppable:p,innerRef:b}=this.props,y=(0,a.default)(P,c),T={height:this.containerHeight(),...h};return r.createElement("div",{ref:b,className:y,style:T,onDrop:p?this.onDrop:l.noop,onDragLeave:p?this.onDragLeave:l.noop,onDragEnter:p?this.onDragEnter:l.noop,onDragOver:p?this.onDragOver:l.noop},r.Children.map(this.props.children,_=>this.processGridItem(_)),p&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return Ve.default=O,M(O,"displayName","ReactGridLayout"),M(O,"propTypes",g.default),M(O,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:l.noop,onDragStart:l.noop,onDrag:l.noop,onDragStop:l.noop,onResizeStart:l.noop,onResize:l.noop,onResizeStop:l.noop,onDrop:l.noop,onDropDragOver:l.noop}),Ve}var ti={},ve={},co;function qo(){if(co)return ve;co=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.findOrGenerateResponsiveLayout=l,ve.getBreakpointFromWidth=n,ve.getColsFromBreakpoint=a,ve.sortBreakpoints=u;var r=Re();function n(d,g){const E=u(d);let v=E[0];for(let z=1,M=E.length;z<M;z++){const x=E[z];g>d[x]&&(v=x)}return v}function a(d,g){if(!g[d])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+d+" is missing!");return g[d]}function l(d,g,E,v,z,M){if(d[E])return(0,r.cloneLayout)(d[E]);let x=d[v];const k=u(g),P=k.slice(k.indexOf(E));for(let w=0,O=P.length;w<O;w++){const m=P[w];if(d[m]){x=d[m];break}}return x=(0,r.cloneLayout)(x||[]),(0,r.compact)((0,r.correctBounds)(x,{cols:z}),M,z)}function u(d){return Object.keys(d).sort(function(E,v){return d[E]-d[v]})}return ve}var fo;function Nl(){if(fo)return ti;fo=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.default=void 0;var r=v(Vt()),n=g(ce()),a=vn(),l=Re(),u=qo(),d=g(Wo());function g(m){return m&&m.__esModule?m:{default:m}}function E(m){if(typeof WeakMap!="function")return null;var c=new WeakMap,h=new WeakMap;return(E=function(p){return p?h:c})(m)}function v(m,c){if(m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var h=E(c);if(h&&h.has(m))return h.get(m);var p={__proto__:null},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in m)if(y!=="default"&&Object.prototype.hasOwnProperty.call(m,y)){var T=b?Object.getOwnPropertyDescriptor(m,y):null;T&&(T.get||T.set)?Object.defineProperty(p,y,T):p[y]=m[y]}return p.default=m,h&&h.set(m,p),p}function z(){return z=Object.assign?Object.assign.bind():function(m){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(m[p]=h[p])}return m},z.apply(this,arguments)}function M(m,c,h){return c=x(c),c in m?Object.defineProperty(m,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):m[c]=h,m}function x(m){var c=k(m,"string");return typeof c=="symbol"?c:String(c)}function k(m,c){if(typeof m!="object"||m===null)return m;var h=m[Symbol.toPrimitive];if(h!==void 0){var p=h.call(m,c);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(m)}const P=m=>Object.prototype.toString.call(m);function w(m,c){return m==null?null:Array.isArray(m)?m:m[c]}let O=class extends r.Component{constructor(){super(...arguments),M(this,"state",this.generateInitialState()),M(this,"onLayoutChange",c=>{this.props.onLayoutChange(c,{...this.props.layouts,[this.state.breakpoint]:c})})}generateInitialState(){const{width:c,breakpoints:h,layouts:p,cols:b}=this.props,y=(0,u.getBreakpointFromWidth)(h,c),T=(0,u.getColsFromBreakpoint)(y,b),_=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,u.findOrGenerateResponsiveLayout)(p,h,y,y,T,_),breakpoint:y,cols:T}}static getDerivedStateFromProps(c,h){if(!(0,a.deepEqual)(c.layouts,h.layouts)){const{breakpoint:p,cols:b}=h;return{layout:(0,u.findOrGenerateResponsiveLayout)(c.layouts,c.breakpoints,p,p,b,c.compactType),layouts:c.layouts}}return null}componentDidUpdate(c){(this.props.width!=c.width||this.props.breakpoint!==c.breakpoint||!(0,a.deepEqual)(this.props.breakpoints,c.breakpoints)||!(0,a.deepEqual)(this.props.cols,c.cols))&&this.onWidthChange(c)}onWidthChange(c){const{breakpoints:h,cols:p,layouts:b,compactType:y}=this.props,T=this.props.breakpoint||(0,u.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),_=this.state.breakpoint,S=(0,u.getColsFromBreakpoint)(T,p),A={...b};if(_!==T||c.breakpoints!==h||c.cols!==p){_ in A||(A[_]=(0,l.cloneLayout)(this.state.layout));let Z=(0,u.findOrGenerateResponsiveLayout)(A,h,T,_,S,y);Z=(0,l.synchronizeLayoutWithChildren)(Z,this.props.children,S,y,this.props.allowOverlap),A[T]=Z,this.props.onBreakpointChange(T,S),this.props.onLayoutChange(Z,A),this.setState({breakpoint:T,layout:Z,cols:S})}const H=w(this.props.margin,T),W=w(this.props.containerPadding,T);this.props.onWidthChange(this.props.width,H,S,W)}render(){const{breakpoint:c,breakpoints:h,cols:p,layouts:b,margin:y,containerPadding:T,onBreakpointChange:_,onLayoutChange:S,onWidthChange:A,...H}=this.props;return r.createElement(d.default,z({},H,{margin:w(y,this.state.breakpoint),containerPadding:w(T,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return ti.default=O,M(O,"propTypes",{breakpoint:n.default.string,breakpoints:n.default.object,allowOverlap:n.default.bool,cols:n.default.object,margin:n.default.oneOfType([n.default.array,n.default.object]),containerPadding:n.default.oneOfType([n.default.array,n.default.object]),layouts(m,c){if(P(m[c])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+P(m[c]));Object.keys(m[c]).forEach(h=>{if(!(h in m.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,l.validateLayout)(m.layouts[h],"layouts."+h)})},width:n.default.number.isRequired,onBreakpointChange:n.default.func,onLayoutChange:n.default.func,onWidthChange:n.default.func}),M(O,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:l.noop,onLayoutChange:l.noop,onWidthChange:l.noop}),ti}var Oi={},Fo=function(){if(typeof Map<"u")return Map;function r(n,a){var l=-1;return n.some(function(u,d){return u[0]===a?(l=d,!0):!1}),l}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(a){var l=r(this.__entries__,a),u=this.__entries__[l];return u&&u[1]},n.prototype.set=function(a,l){var u=r(this.__entries__,a);~u?this.__entries__[u][1]=l:this.__entries__.push([a,l])},n.prototype.delete=function(a){var l=this.__entries__,u=r(l,a);~u&&l.splice(u,1)},n.prototype.has=function(a){return!!~r(this.__entries__,a)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(a,l){l===void 0&&(l=null);for(var u=0,d=this.__entries__;u<d.length;u++){var g=d[u];a.call(l,g[1],g[0])}},n}()}(),pn=typeof window<"u"&&typeof document<"u"&&window.document===document,Ri=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Zl=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ri):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),Hl=2;function Wl(r,n){var a=!1,l=!1,u=0;function d(){a&&(a=!1,r()),l&&E()}function g(){Zl(d)}function E(){var v=Date.now();if(a){if(v-u<Hl)return;l=!0}else a=!0,l=!1,setTimeout(g,n);u=v}return E}var ql=20,Fl=["top","right","bottom","left","width","height","size","weight"],jl=typeof MutationObserver<"u",Gl=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Wl(this.refresh.bind(this),ql)}return r.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},r.prototype.removeObserver=function(n){var a=this.observers_,l=a.indexOf(n);~l&&a.splice(l,1),!a.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},r.prototype.updateObservers_=function(){var n=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return n.forEach(function(a){return a.broadcastActive()}),n.length>0},r.prototype.connect_=function(){!pn||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),jl?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!pn||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(n){var a=n.propertyName,l=a===void 0?"":a,u=Fl.some(function(d){return!!~l.indexOf(d)});u&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),jo=function(r,n){for(var a=0,l=Object.keys(n);a<l.length;a++){var u=l[a];Object.defineProperty(r,u,{value:n[u],enumerable:!1,writable:!1,configurable:!0})}return r},ze=function(r){var n=r&&r.ownerDocument&&r.ownerDocument.defaultView;return n||Ri},Go=Ii(0,0,0,0);function Di(r){return parseFloat(r)||0}function po(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return n.reduce(function(l,u){var d=r["border-"+u+"-width"];return l+Di(d)},0)}function Vl(r){for(var n=["top","right","bottom","left"],a={},l=0,u=n;l<u.length;l++){var d=u[l],g=r["padding-"+d];a[d]=Di(g)}return a}function Ul(r){var n=r.getBBox();return Ii(0,0,n.width,n.height)}function $l(r){var n=r.clientWidth,a=r.clientHeight;if(!n&&!a)return Go;var l=ze(r).getComputedStyle(r),u=Vl(l),d=u.left+u.right,g=u.top+u.bottom,E=Di(l.width),v=Di(l.height);if(l.boxSizing==="border-box"&&(Math.round(E+d)!==n&&(E-=po(l,"left","right")+d),Math.round(v+g)!==a&&(v-=po(l,"top","bottom")+g)),!Xl(r)){var z=Math.round(E+d)-n,M=Math.round(v+g)-a;Math.abs(z)!==1&&(E-=z),Math.abs(M)!==1&&(v-=M)}return Ii(u.left,u.top,E,v)}var Yl=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof ze(r).SVGGraphicsElement}:function(r){return r instanceof ze(r).SVGElement&&typeof r.getBBox=="function"}}();function Xl(r){return r===ze(r).document.documentElement}function Kl(r){return pn?Yl(r)?Ul(r):$l(r):Go}function Jl(r){var n=r.x,a=r.y,l=r.width,u=r.height,d=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,g=Object.create(d.prototype);return jo(g,{x:n,y:a,width:l,height:u,top:a,right:n+l,bottom:u+a,left:n}),g}function Ii(r,n,a,l){return{x:r,y:n,width:a,height:l}}var Ql=function(){function r(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ii(0,0,0,0),this.target=n}return r.prototype.isActive=function(){var n=Kl(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},r}(),tu=function(){function r(n,a){var l=Jl(a);jo(this,{target:n,contentRect:l})}return r}(),eu=function(){function r(n,a,l){if(this.activeObservations_=[],this.observations_=new Fo,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=a,this.callbackCtx_=l}return r.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof ze(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var a=this.observations_;a.has(n)||(a.set(n,new Ql(n)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof ze(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var a=this.observations_;a.has(n)&&(a.delete(n),a.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(a){a.isActive()&&n.activeObservations_.push(a)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,a=this.activeObservations_.map(function(l){return new tu(l.target,l.broadcastRect())});this.callback_.call(n,a,n),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),Vo=typeof WeakMap<"u"?new WeakMap:new Fo,Uo=function(){function r(n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var a=Gl.getInstance(),l=new eu(n,a,this);Vo.set(this,l)}return r}();["observe","unobserve","disconnect"].forEach(function(r){Uo.prototype[r]=function(){var n;return(n=Vo.get(this))[r].apply(n,arguments)}});var iu=function(){return typeof Ri.ResizeObserver<"u"?Ri.ResizeObserver:Uo}();const nu=Object.freeze(Object.defineProperty({__proto__:null,default:iu},Symbol.toStringTag,{value:"Module"})),ru=Co(nu);var mo;function ou(){if(mo)return Oi;mo=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.default=k;var r=g(Vt()),n=u(ce()),a=u(ru),l=u(yn());function u(P){return P&&P.__esModule?P:{default:P}}function d(P){if(typeof WeakMap!="function")return null;var w=new WeakMap,O=new WeakMap;return(d=function(m){return m?O:w})(P)}function g(P,w){if(P&&P.__esModule)return P;if(P===null||typeof P!="object"&&typeof P!="function")return{default:P};var O=d(w);if(O&&O.has(P))return O.get(P);var m={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in P)if(h!=="default"&&Object.prototype.hasOwnProperty.call(P,h)){var p=c?Object.getOwnPropertyDescriptor(P,h):null;p&&(p.get||p.set)?Object.defineProperty(m,h,p):m[h]=P[h]}return m.default=P,O&&O.set(P,m),m}function E(){return E=Object.assign?Object.assign.bind():function(P){for(var w=1;w<arguments.length;w++){var O=arguments[w];for(var m in O)Object.prototype.hasOwnProperty.call(O,m)&&(P[m]=O[m])}return P},E.apply(this,arguments)}function v(P,w,O){return w=z(w),w in P?Object.defineProperty(P,w,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[w]=O,P}function z(P){var w=M(P,"string");return typeof w=="symbol"?w:String(w)}function M(P,w){if(typeof P!="object"||P===null)return P;var O=P[Symbol.toPrimitive];if(O!==void 0){var m=O.call(P,w);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(P)}const x="react-grid-layout";function k(P){var w;return w=class extends r.Component{constructor(){super(...arguments),v(this,"state",{width:1280}),v(this,"elementRef",r.createRef()),v(this,"mounted",!1),v(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new a.default(c=>{if(this.elementRef.current instanceof HTMLElement){const p=c[0].contentRect.width;this.setState({width:p})}});const m=this.elementRef.current;m instanceof HTMLElement&&this.resizeObserver.observe(m)}componentWillUnmount(){this.mounted=!1;const m=this.elementRef.current;m instanceof HTMLElement&&this.resizeObserver.unobserve(m),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:m,...c}=this.props;return m&&!this.mounted?r.createElement("div",{className:(0,l.default)(this.props.className,x),style:this.props.style,ref:this.elementRef}):r.createElement(P,E({innerRef:this.elementRef},c,this.state))}},v(w,"defaultProps",{measureBeforeMount:!1}),v(w,"propTypes",{measureBeforeMount:n.default.bool}),w}return Oi}var _o;function su(){return _o||(_o=1,function(r){r.exports=Wo().default,r.exports.utils=Re(),r.exports.calculateUtils=wn(),r.exports.Responsive=Nl().default,r.exports.Responsive.utils=qo(),r.exports.WidthProvider=ou().default}(cn)),cn.exports}var go=su(),ii={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var au=ii.exports,vo;function lu(){return vo||(vo=1,function(r,n){(function(a,l){l(n)})(au,function(a){var l="1.9.4";function u(t){var e,i,o,s;for(i=1,o=arguments.length;i<o;i++){s=arguments[i];for(e in s)t[e]=s[e]}return t}var d=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function g(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var o=i.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(i.call(arguments)):arguments)}}var E=0;function v(t){return"_leaflet_id"in t||(t._leaflet_id=++E),t._leaflet_id}function z(t,e,i){var o,s,f,C;return C=function(){o=!1,s&&(f.apply(i,s),s=!1)},f=function(){o?s=arguments:(t.apply(i,arguments),setTimeout(C,e),o=!0)},f}function M(t,e,i){var o=e[1],s=e[0],f=o-s;return t===o&&i?t:((t-s)%f+f)%f+s}function x(){return!1}function k(t,e){if(e===!1)return t;var i=Math.pow(10,e===void 0?6:e);return Math.round(t*i)/i}function P(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function w(t){return P(t).split(/\s+/)}function O(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?d(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}function m(t,e,i){var o=[];for(var s in t)o.push(encodeURIComponent(i?s.toUpperCase():s)+"="+encodeURIComponent(t[s]));return(!e||e.indexOf("?")===-1?"?":"&")+o.join("&")}var c=/\{ *([\w_ -]+) *\}/g;function h(t,e){return t.replace(c,function(i,o){var s=e[o];if(s===void 0)throw new Error("No value provided for variable "+i);return typeof s=="function"&&(s=s(e)),s})}var p=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function b(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var _=0;function S(t){var e=+new Date,i=Math.max(0,16-(e-_));return _=e+i,window.setTimeout(t,i)}var A=window.requestAnimationFrame||T("RequestAnimationFrame")||S,H=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function W(t,e,i){if(i&&A===S)t.call(e);else return A.call(window,g(t,e))}function Z(t){t&&H.call(window,t)}var V={__proto__:null,extend:u,create:d,bind:g,get lastId(){return E},stamp:v,throttle:z,wrapNum:M,falseFn:x,formatNum:k,trim:P,splitWords:w,setOptions:O,getParamString:m,template:h,isArray:p,indexOf:b,emptyImageUrl:y,requestFn:A,cancelFn:H,requestAnimFrame:W,cancelAnimFrame:Z};function G(){}G.extend=function(t){var e=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=d(i);o.constructor=e,e.prototype=o;for(var s in this)Object.prototype.hasOwnProperty.call(this,s)&&s!=="prototype"&&s!=="__super__"&&(e[s]=this[s]);return t.statics&&u(e,t.statics),t.includes&&(tt(t.includes),u.apply(null,[o].concat(t.includes))),u(o,t),delete o.statics,delete o.includes,o.options&&(o.options=i.options?d(i.options):{},u(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,C=o._initHooks.length;f<C;f++)o._initHooks[f].call(this)}},e},G.include=function(t){var e=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},G.mergeOptions=function(t){return u(this.prototype.options,t),this},G.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function tt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=p(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(t,e,i){if(typeof t=="object")for(var o in t)this._on(o,t[o],e);else{t=w(t);for(var s=0,f=t.length;s<f;s++)this._on(t[s],e,i)}return this},off:function(t,e,i){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var o in t)this._off(o,t[o],e);else{t=w(t);for(var s=arguments.length===1,f=0,C=t.length;f<C;f++)s?this._off(t[f]):this._off(t[f],e,i)}return this},_on:function(t,e,i,o){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,i)===!1){i===this&&(i=void 0);var s={fn:e,ctx:i};o&&(s.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(s)}},_off:function(t,e,i){var o,s,f;if(this._events&&(o=this._events[t],!!o)){if(arguments.length===1){if(this._firingCount)for(s=0,f=o.length;s<f;s++)o[s].fn=x;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var C=this._listens(t,e,i);if(C!==!1){var I=o[C];this._firingCount&&(I.fn=x,this._events[t]=o=o.slice()),o.splice(C,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=u({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var f=0,C=s.length;f<C;f++){var I=s[f],N=I.fn;I.once&&this.off(t,N,I.ctx),N.call(I.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e,i,o){typeof t!="string"&&console.warn('"string" type argument expected');var s=e;typeof e!="function"&&(o=!!e,s=void 0,i=void 0);var f=this._events&&this._events[t];if(f&&f.length&&this._listens(t,s,i)!==!1)return!0;if(o){for(var C in this._eventParents)if(this._eventParents[C].listens(t,e,i,o))return!0}return!1},_listens:function(t,e,i){if(!this._events)return!1;var o=this._events[t]||[];if(!e)return!!o.length;i===this&&(i=void 0);for(var s=0,f=o.length;s<f;s++)if(o[s].fn===e&&o[s].ctx===i)return s;return!1},once:function(t,e,i){if(typeof t=="object")for(var o in t)this._on(o,t[o],e,!0);else{t=w(t);for(var s=0,f=t.length;s<f;s++)this._on(t[s],e,i,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[v(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[v(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var ot=G.extend(Y);function K(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var pt=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(t){return this.clone()._add($(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract($(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new K(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new K(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pt(this.x),this.y=pt(this.y),this},distanceTo:function(t){t=$(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=$(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=$(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function $(t,e,i){return t instanceof K?t:p(t)?new K(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new K(t.x,t.y):new K(t,e,i)}function Q(t,e){if(t)for(var i=e?[t,e]:t,o=0,s=i.length;o<s;o++)this.extend(i[o])}Q.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof K||typeof t[0]=="number"||"x"in t)e=i=$(t);else if(t=yt(t),e=t.min,i=t.max,!e||!i)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=i.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(t){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return typeof t[0]=="number"||t instanceof K?t=$(t):t=yt(t),t instanceof Q?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=yt(t);var e=this.min,i=this.max,o=t.min,s=t.max,f=s.x>=e.x&&o.x<=i.x,C=s.y>=e.y&&o.y<=i.y;return f&&C},overlaps:function(t){t=yt(t);var e=this.min,i=this.max,o=t.min,s=t.max,f=s.x>e.x&&o.x<i.x,C=s.y>e.y&&o.y<i.y;return f&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,i=this.max,o=Math.abs(e.x-i.x)*t,s=Math.abs(e.y-i.y)*t;return yt($(e.x-o,e.y-s),$(i.x+o,i.y+s))},equals:function(t){return t?(t=yt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function yt(t,e){return!t||t instanceof Q?t:new Q(t,e)}function Pt(t,e){if(t)for(var i=e?[t,e]:t,o=0,s=i.length;o<s;o++)this.extend(i[o])}Pt.prototype={extend:function(t){var e=this._southWest,i=this._northEast,o,s;if(t instanceof mt)o=t,s=t;else if(t instanceof Pt){if(o=t._southWest,s=t._northEast,!o||!s)return this}else return t?this.extend(ft(t)||xt(t)):this;return!e&&!i?(this._southWest=new mt(o.lat,o.lng),this._northEast=new mt(s.lat,s.lng)):(e.lat=Math.min(o.lat,e.lat),e.lng=Math.min(o.lng,e.lng),i.lat=Math.max(s.lat,i.lat),i.lng=Math.max(s.lng,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,o=Math.abs(e.lat-i.lat)*t,s=Math.abs(e.lng-i.lng)*t;return new Pt(new mt(e.lat-o,e.lng-s),new mt(i.lat+o,i.lng+s))},getCenter:function(){return new mt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new mt(this.getNorth(),this.getWest())},getSouthEast:function(){return new mt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof mt||"lat"in t?t=ft(t):t=xt(t);var e=this._southWest,i=this._northEast,o,s;return t instanceof Pt?(o=t.getSouthWest(),s=t.getNorthEast()):o=s=t,o.lat>=e.lat&&s.lat<=i.lat&&o.lng>=e.lng&&s.lng<=i.lng},intersects:function(t){t=xt(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),s=t.getNorthEast(),f=s.lat>=e.lat&&o.lat<=i.lat,C=s.lng>=e.lng&&o.lng<=i.lng;return f&&C},overlaps:function(t){t=xt(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),s=t.getNorthEast(),f=s.lat>e.lat&&o.lat<i.lat,C=s.lng>e.lng&&o.lng<i.lng;return f&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=xt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xt(t,e){return t instanceof Pt?t:new Pt(t,e)}function mt(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==void 0&&(this.alt=+i)}mt.prototype={equals:function(t,e){if(!t)return!1;t=ft(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+k(this.lat,t)+", "+k(this.lng,t)+")"},distanceTo:function(t){return X.distance(this,ft(t))},wrap:function(){return X.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return xt([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new mt(this.lat,this.lng,this.alt)}};function ft(t,e,i){return t instanceof mt?t:p(t)&&typeof t[0]!="object"?t.length===3?new mt(t[0],t[1],t[2]):t.length===2?new mt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new mt(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new mt(t,e,i)}var Nt={latLngToPoint:function(t,e){var i=this.projection.project(t),o=this.scale(e);return this.transformation._transform(i,o)},pointToLatLng:function(t,e){var i=this.scale(e),o=this.transformation.untransform(t,i);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),o=this.transformation.transform(e.min,i),s=this.transformation.transform(e.max,i);return new Q(o,s)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?M(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?M(t.lat,this.wrapLat,!0):t.lat,o=t.alt;return new mt(i,e,o)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),o=e.lat-i.lat,s=e.lng-i.lng;if(o===0&&s===0)return t;var f=t.getSouthWest(),C=t.getNorthEast(),I=new mt(f.lat-o,f.lng-s),N=new mt(C.lat-o,C.lng-s);return new Pt(I,N)}},X=u({},Nt,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,o=t.lat*i,s=e.lat*i,f=Math.sin((e.lat-t.lat)*i/2),C=Math.sin((e.lng-t.lng)*i/2),I=f*f+Math.cos(o)*Math.cos(s)*C*C,N=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*N}}),at=6378137,_t={R:at,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,o=Math.max(Math.min(i,t.lat),-i),s=Math.sin(o*e);return new K(this.R*t.lng*e,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(t){var e=180/Math.PI;return new mt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=at*Math.PI;return new Q([-t,-t],[t,t])}()};function R(t,e,i,o){if(p(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=i,this._d=o}R.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new K((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function D(t,e,i,o){return new R(t,e,i,o)}var B=u({},X,{code:"EPSG:3857",projection:_t,transformation:function(){var t=.5/(Math.PI*_t.R);return D(t,.5,-t,.5)}()}),F=u({},B,{code:"EPSG:900913"});function it(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function U(t,e){var i="",o,s,f,C,I,N;for(o=0,f=t.length;o<f;o++){for(I=t[o],s=0,C=I.length;s<C;s++)N=I[s],i+=(s?"L":"M")+N.x+" "+N.y;i+=e?nt.svg?"z":"x":""}return i||"M0 0"}var rt=document.documentElement.style,et="ActiveXObject"in window,lt=et&&!document.addEventListener,Lt="msLaunchUri"in navigator&&!("documentMode"in document),Ft=$t("webkit"),It=$t("android"),Ct=$t("android 2")||$t("android 3"),se=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ye=It&&$t("Google")&&se<537&&!("AudioNode"in window),fe=!!window.opera,si=!Lt&&$t("chrome"),Ut=$t("gecko")&&!Ft&&!fe&&!et,es=!si&&$t("safari"),Cn=$t("phantom"),On="OTransition"in rt,is=navigator.platform.indexOf("Win")===0,En=et&&"transition"in rt,Ai="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ct,Mn="MozPerspective"in rt,ns=!window.L_DISABLE_3D&&(En||Ai||Mn)&&!On&&!Cn,De=typeof orientation<"u"||$t("mobile"),rs=De&&Ft,os=De&&Ai,zn=!window.PointerEvent&&window.MSPointerEvent,Rn=!!(window.PointerEvent||zn),Dn="ontouchstart"in window||!!window.TouchEvent,ss=!window.L_NO_TOUCH&&(Dn||Rn),as=De&&fe,ls=De&&Ut,us=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hs=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",x,e),window.removeEventListener("testPassiveEventSupport",x,e)}catch{}return t}(),cs=function(){return!!document.createElement("canvas").getContext}(),Bi=!!(document.createElementNS&&it("svg").createSVGRect),fs=!!Bi&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ds=!Bi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),ps=navigator.platform.indexOf("Mac")===0,ms=navigator.platform.indexOf("Linux")===0;function $t(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var nt={ie:et,ielt9:lt,edge:Lt,webkit:Ft,android:It,android23:Ct,androidStock:ye,opera:fe,chrome:si,gecko:Ut,safari:es,phantom:Cn,opera12:On,win:is,ie3d:En,webkit3d:Ai,gecko3d:Mn,any3d:ns,mobile:De,mobileWebkit:rs,mobileWebkit3d:os,msPointer:zn,pointer:Rn,touch:ss,touchNative:Dn,mobileOpera:as,mobileGecko:ls,retina:us,passiveEvents:hs,canvas:cs,svg:Bi,vml:ds,inlineSvg:fs,mac:ps,linux:ms},kn=nt.msPointer?"MSPointerDown":"pointerdown",In=nt.msPointer?"MSPointerMove":"pointermove",An=nt.msPointer?"MSPointerUp":"pointerup",Bn=nt.msPointer?"MSPointerCancel":"pointercancel",Ni={touchstart:kn,touchmove:In,touchend:An,touchcancel:Bn},Nn={touchstart:xs,touchmove:ai,touchend:ai,touchcancel:ai},we={},Zn=!1;function _s(t,e,i){return e==="touchstart"&&ws(),Nn[e]?(i=Nn[e].bind(this,i),t.addEventListener(Ni[e],i,!1),i):(console.warn("wrong event specified:",e),x)}function gs(t,e,i){if(!Ni[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(Ni[e],i,!1)}function vs(t){we[t.pointerId]=t}function ys(t){we[t.pointerId]&&(we[t.pointerId]=t)}function Hn(t){delete we[t.pointerId]}function ws(){Zn||(document.addEventListener(kn,vs,!0),document.addEventListener(In,ys,!0),document.addEventListener(An,Hn,!0),document.addEventListener(Bn,Hn,!0),Zn=!0)}function ai(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var i in we)e.touches.push(we[i]);e.changedTouches=[e],t(e)}}function xs(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&kt(e),ai(t,e)}function bs(t){var e={},i,o;for(o in t)i=t[o],e[o]=i&&i.bind?i.bind(t):i;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var Ps=200;function Ls(t,e){t.addEventListener("dblclick",e);var i=0,o;function s(f){if(f.detail!==1){o=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var C=Gn(f);if(!(C.some(function(N){return N instanceof HTMLLabelElement&&N.attributes.for})&&!C.some(function(N){return N instanceof HTMLInputElement||N instanceof HTMLSelectElement}))){var I=Date.now();I-i<=Ps?(o++,o===2&&e(bs(f))):o=1,i=I}}}return t.addEventListener("click",s),{dblclick:e,simDblclick:s}}function Ss(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var Zi=hi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ke=hi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wn=ke==="webkitTransition"||ke==="OTransition"?ke+"End":"transitionend";function qn(t){return typeof t=="string"?document.getElementById(t):t}function Ie(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||i==="auto")&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return i==="auto"?null:i}function bt(t,e,i){var o=document.createElement(t);return o.className=e||"",i&&i.appendChild(o),o}function Tt(t){var e=t.parentNode;e&&e.removeChild(t)}function li(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function xe(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function be(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Hi(t,e){if(t.classList!==void 0)return t.classList.contains(e);var i=ui(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function ct(t,e){if(t.classList!==void 0)for(var i=w(e),o=0,s=i.length;o<s;o++)t.classList.add(i[o]);else if(!Hi(t,e)){var f=ui(t);Wi(t,(f?f+" ":"")+e)}}function Ot(t,e){t.classList!==void 0?t.classList.remove(e):Wi(t,P((" "+ui(t)+" ").replace(" "+e+" "," ")))}function Wi(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function ui(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Zt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Ts(t,e)}function Ts(t,e){var i=!1,o="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(o)}catch{if(e===1)return}e=Math.round(e*100),i?(i.Enabled=e!==100,i.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}function hi(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function de(t,e,i){var o=e||new K(0,0);t.style[Zi]=(nt.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(i?" scale("+i+")":"")}function Mt(t,e){t._leaflet_pos=e,nt.any3d?de(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function pe(t){return t._leaflet_pos||new K(0,0)}var Ae,Be,qi;if("onselectstart"in document)Ae=function(){ht(window,"selectstart",kt)},Be=function(){St(window,"selectstart",kt)};else{var Ne=hi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ae=function(){if(Ne){var t=document.documentElement.style;qi=t[Ne],t[Ne]="none"}},Be=function(){Ne&&(document.documentElement.style[Ne]=qi,qi=void 0)}}function Fi(){ht(window,"dragstart",kt)}function ji(){St(window,"dragstart",kt)}var ci,Gi;function Vi(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(fi(),ci=t,Gi=t.style.outlineStyle,t.style.outlineStyle="none",ht(window,"keydown",fi))}function fi(){ci&&(ci.style.outlineStyle=Gi,ci=void 0,Gi=void 0,St(window,"keydown",fi))}function Fn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ui(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Cs={__proto__:null,TRANSFORM:Zi,TRANSITION:ke,TRANSITION_END:Wn,get:qn,getStyle:Ie,create:bt,remove:Tt,empty:li,toFront:xe,toBack:be,hasClass:Hi,addClass:ct,removeClass:Ot,setClass:Wi,getClass:ui,setOpacity:Zt,testProp:hi,setTransform:de,setPosition:Mt,getPosition:pe,get disableTextSelection(){return Ae},get enableTextSelection(){return Be},disableImageDrag:Fi,enableImageDrag:ji,preventOutline:Vi,restoreOutline:fi,getSizedParentNode:Fn,getScale:Ui};function ht(t,e,i,o){if(e&&typeof e=="object")for(var s in e)Yi(t,s,e[s],i);else{e=w(e);for(var f=0,C=e.length;f<C;f++)Yi(t,e[f],i,o)}return this}var Yt="_leaflet_events";function St(t,e,i,o){if(arguments.length===1)jn(t),delete t[Yt];else if(e&&typeof e=="object")for(var s in e)Xi(t,s,e[s],i);else if(e=w(e),arguments.length===2)jn(t,function(I){return b(e,I)!==-1});else for(var f=0,C=e.length;f<C;f++)Xi(t,e[f],i,o);return this}function jn(t,e){for(var i in t[Yt]){var o=i.split(/\d/)[0];(!e||e(o))&&Xi(t,o,null,null,i)}}var $i={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yi(t,e,i,o){var s=e+v(i)+(o?"_"+v(o):"");if(t[Yt]&&t[Yt][s])return this;var f=function(I){return i.call(o||t,I||window.event)},C=f;!nt.touchNative&&nt.pointer&&e.indexOf("touch")===0?f=_s(t,e,f):nt.touch&&e==="dblclick"?f=Ls(t,f):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener($i[e]||e,f,nt.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(f=function(I){I=I||window.event,Ji(t,I)&&C(I)},t.addEventListener($i[e],f,!1)):t.addEventListener(e,C,!1):t.attachEvent("on"+e,f),t[Yt]=t[Yt]||{},t[Yt][s]=f}function Xi(t,e,i,o,s){s=s||e+v(i)+(o?"_"+v(o):"");var f=t[Yt]&&t[Yt][s];if(!f)return this;!nt.touchNative&&nt.pointer&&e.indexOf("touch")===0?gs(t,e,f):nt.touch&&e==="dblclick"?Ss(t,f):"removeEventListener"in t?t.removeEventListener($i[e]||e,f,!1):t.detachEvent("on"+e,f),t[Yt][s]=null}function me(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ki(t){return Yi(t,"wheel",me),this}function Ze(t){return ht(t,"mousedown touchstart dblclick contextmenu",me),t._leaflet_disable_click=!0,this}function kt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function _e(t){return kt(t),me(t),this}function Gn(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function Vn(t,e){if(!e)return new K(t.clientX,t.clientY);var i=Ui(e),o=i.boundingClientRect;return new K((t.clientX-o.left)/i.x-e.clientLeft,(t.clientY-o.top)/i.y-e.clientTop)}var Os=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Un(t){return nt.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Os:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Ji(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}var Es={__proto__:null,on:ht,off:St,stopPropagation:me,disableScrollPropagation:Ki,disableClickPropagation:Ze,preventDefault:kt,stop:_e,getPropagationPath:Gn,getMousePosition:Vn,getWheelDelta:Un,isExternalTarget:Ji,addListener:ht,removeListener:St},$n=ot.extend({run:function(t,e,i,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=pe(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=this._duration*1e3;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),Mt(this._el,i),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),gt=ot.extend({options:{crs:B,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=O(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(ft(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ke&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ht(this._proxy,Wn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(ft(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=u({animate:i.animate},i.zoom),i.pan=u({animate:i.animate,duration:i.duration},i.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var o=this.getZoomScale(e),s=this.getSize().divideBy(2),f=t instanceof K?t:this.latLngToContainerPoint(t),C=f.subtract(s).multiplyBy(1-1/o),I=this.containerPointToLatLng(s.add(C));return this.setView(I,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():xt(t);var i=$(e.paddingTopLeft||e.padding||[0,0]),o=$(e.paddingBottomRight||e.padding||[0,0]),s=this.getBoundsZoom(t,!1,i.add(o));if(s=typeof e.maxZoom=="number"?Math.min(e.maxZoom,s):s,s===1/0)return{center:t.getCenter(),zoom:s};var f=o.subtract(i).divideBy(2),C=this.project(t.getSouthWest(),s),I=this.project(t.getNorthEast(),s),N=this.unproject(C.add(I).divideBy(2).add(f),s);return{center:N,zoom:s}},fitBounds:function(t,e){if(t=xt(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=$(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $n,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){ct(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(i=i||{},i.animate===!1||!nt.any3d)return this.setView(t,e,i);this._stop();var o=this.project(this.getCenter()),s=this.project(t),f=this.getSize(),C=this._zoom;t=ft(t),e=e===void 0?C:e;var I=Math.max(f.x,f.y),N=I*this.getZoomScale(C,e),q=s.distanceTo(o)||1,J=1.42,st=J*J;function dt(zt){var Li=zt?-1:1,ga=zt?N:I,va=N*N-I*I+Li*st*st*q*q,ya=2*ga*st*q,hn=va/ya,Or=Math.sqrt(hn*hn+1)-hn,wa=Or<1e-9?-18:Math.log(Or);return wa}function At(zt){return(Math.exp(zt)-Math.exp(-zt))/2}function Dt(zt){return(Math.exp(zt)+Math.exp(-zt))/2}function Wt(zt){return At(zt)/Dt(zt)}var Bt=dt(0);function Oe(zt){return I*(Dt(Bt)/Dt(Bt+J*zt))}function da(zt){return I*(Dt(Bt)*Wt(Bt+J*zt)-At(Bt))/st}function pa(zt){return 1-Math.pow(1-zt,1.5)}var ma=Date.now(),Tr=(dt(1)-Bt)/J,_a=i.duration?1e3*i.duration:1e3*Tr*.8;function Cr(){var zt=(Date.now()-ma)/_a,Li=pa(zt)*Tr;zt<=1?(this._flyToFrame=W(Cr,this),this._move(this.unproject(o.add(s.subtract(o).multiplyBy(da(Li)/q)),C),this.getScaleZoom(I/Oe(Li),C),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),Cr.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=xt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),o=this._limitCenter(i,this._zoom,xt(t));return i.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var i=$(e.paddingTopLeft||e.padding||[0,0]),o=$(e.paddingBottomRight||e.padding||[0,0]),s=this.project(this.getCenter()),f=this.project(t),C=this.getPixelBounds(),I=yt([C.min.add(i),C.max.subtract(o)]),N=I.getSize();if(!I.contains(f)){this._enforcingBounds=!0;var q=f.subtract(I.getCenter()),J=I.extend(f).getSize().subtract(N);s.x+=q.x<0?-J.x:J.x,s.y+=q.y<0?-J.y:J.y,this.panTo(this.unproject(s),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),s=i.divideBy(2).round(),f=o.subtract(s);return!f.x&&!f.y?this:(t.animate&&t.pan?this.panBy(f):(t.pan&&this._rawPanBy(f),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=g(this._handleGeolocationResponse,this),i=g(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,i=t.coords.longitude,o=new mt(e,i),s=o.toBounds(t.coords.accuracy*2),f=this._locateOptions;if(f.setView){var C=this.getBoundsZoom(s);this.setView(o,f.maxZoom?Math.min(C,f.maxZoom):C)}var I={latlng:o,bounds:s,timestamp:t.timestamp};for(var N in t.coords)typeof t.coords[N]=="number"&&(I[N]=t.coords[N]);this.fire("locationfound",I)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Tt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),o=bt("div",i,e||this._mapPane);return t&&(this._panes[t]=o),o},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new Pt(e,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=xt(t),i=$(i||[0,0]);var o=this.getZoom()||0,s=this.getMinZoom(),f=this.getMaxZoom(),C=t.getNorthWest(),I=t.getSouthEast(),N=this.getSize().subtract(i),q=yt(this.project(I,o),this.project(C,o)).getSize(),J=nt.any3d?this.options.zoomSnap:1,st=N.x/q.x,dt=N.y/q.y,At=e?Math.max(st,dt):Math.min(st,dt);return o=this.getScaleZoom(At,o),J&&(o=Math.round(o/(J/100))*(J/100),o=e?Math.ceil(o/J)*J:Math.floor(o/J)*J),Math.max(s,Math.min(f,o))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new Q(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===void 0?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===void 0?this._zoom:e;var o=i.zoom(t*i.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(ft(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng($(t),e)},layerPointToLatLng:function(t){var e=$(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(ft(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ft(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(xt(t))},distance:function(t,e){return this.options.crs.distance(ft(t),ft(e))},containerPointToLayerPoint:function(t){return $(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return $(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint($(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ft(t)))},mouseEventToContainerPoint:function(t){return Vn(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=qn(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ht(e,"scroll",this._onScroll,this),this._containerId=v(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,ct(t,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Ie(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Mt(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ct(t.markerPane,"leaflet-zoom-hide"),ct(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){Mt(this._mapPane,new K(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var s=this._zoom!==e;this._moveStart(s,i)._move(t,e)._moveEnd(s),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,o){e===void 0&&(e=this._zoom);var s=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?i&&i.pinch&&this.fire("zoom",i):((s||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Mt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[v(this._container)]=this;var e=t?St:ht;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i=[],o,s=e==="mouseout"||e==="mouseover",f=t.target||t.srcElement,C=!1;f;){if(o=this._targets[v(f)],o&&(e==="click"||e==="preclick")&&this._draggableMoved(o)){C=!0;break}if(o&&o.listens(e,!0)&&(s&&!Ji(f,t)||(i.push(o),s))||f===this._container)break;f=f.parentNode}return!i.length&&!C&&!s&&this.listens(e,!0)&&(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var i=t.type;i==="mousedown"&&Vi(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if(t.type==="click"){var o=u({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}var s=this._findEventTargets(t,e);if(i){for(var f=[],C=0;C<i.length;C++)i[C].listens(e,!0)&&f.push(i[C]);s=f.concat(s)}if(s.length){e==="contextmenu"&&kt(t);var I=s[0],N={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var q=I.getLatLng&&(!I._radius||I._radius<=10);N.containerPoint=q?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(t),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=q?I.getLatLng():this.layerPointToLatLng(N.layerPoint)}for(C=0;C<s.length;C++)if(s[C].fire(e,N,!0),N.originalEvent._stopped||s[C].options.bubblingMouseEvents===!1&&b(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return pe(this._mapPane)||new K(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return yt([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var o=this.project(t,e),s=this.getSize().divideBy(2),f=new Q(o.subtract(s),o.add(s)),C=this._getBoundsOffset(f,i,e);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?t:this.unproject(o.add(C),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),o=new Q(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,i){var o=yt(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),s=o.min.subtract(t.min),f=o.max.subtract(t.max),C=this._rebound(s.x,-f.x),I=this._rebound(s.y,-f.y);return new K(C,I)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),o=nt.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ot(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=bt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=Zi,o=this._proxy.style[i];de(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),o===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();de(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),s=this._getCenterOffset(t)._divideBy(1-1/o);return i.animate!==!0&&!this.getSize().contains(s)?!1:(W(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,o){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ot(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ms(t,e){return new gt(t,e)}var jt=G.extend({options:{position:"topright"},initialize:function(t){O(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),o=t._controlCorners[i];return ct(e,"leaflet-control"),i.indexOf("bottom")!==-1?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),He=function(t){return new jt(t)};gt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=bt("div",e+"control-container",this._container);function o(s,f){var C=e+s+" "+e+f;t[s+f]=bt("div",C,i)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Tt(this._controlCorners[t]);Tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yn=jt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,o){return i<o?-1:o<i?1:0}},initialize:function(t,e,i){O(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var o in t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return jt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(v(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ot(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ot(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=bt("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ze(e),Ki(e);var o=this._section=bt("section",t+"-list");i&&(this._map.on("click",this.collapse,this),ht(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var s=this._layersLink=bt("a",t+"-toggle",e);s.href="#",s.title="Layers",s.setAttribute("role","button"),ht(s,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){kt(f),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=bt("div",t+"-base",o),this._separator=bt("div",t+"-separator",o),this._overlaysList=bt("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&v(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(g(function(o,s){return this.options.sortFunction(o.layer,s.layer,o.name,s.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;li(this._baseLayersList),li(this._overlaysList),this._layerControlInputs=[];var t,e,i,o,s=0;for(i=0;i<this._layers.length;i++)o=this._layers[i],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,s+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&s>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(v(t.target)),i=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var e=document.createElement("label"),i=this._map.hasLayer(t.layer),o;t.overlay?(o=document.createElement("input"),o.type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=i):o=this._createRadioElement("leaflet-base-layers_"+v(this),i),this._layerControlInputs.push(o),o.layerId=v(t.layer),ht(o,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+t.name;var f=document.createElement("span");e.appendChild(f),f.appendChild(o),f.appendChild(s);var C=t.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,i,o=[],s=[];this._handlingClick=!0;for(var f=t.length-1;f>=0;f--)e=t[f],i=this._getLayer(e.layerId).layer,e.checked?o.push(i):e.checked||s.push(i);for(f=0;f<s.length;f++)this._map.hasLayer(s[f])&&this._map.removeLayer(s[f]);for(f=0;f<o.length;f++)this._map.hasLayer(o[f])||this._map.addLayer(o[f]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,i,o=this._map.getZoom(),s=t.length-1;s>=0;s--)e=t[s],i=this._getLayer(e.layerId).layer,e.disabled=i.options.minZoom!==void 0&&o<i.options.minZoom||i.options.maxZoom!==void 0&&o>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ht(t,"click",kt),this.expand();var e=this;setTimeout(function(){St(t,"click",kt),e._preventClick=!1})}}),zs=function(t,e,i){return new Yn(t,e,i)},Qi=jt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=bt("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,o,s){var f=bt("a",i,o);return f.innerHTML=t,f.href="#",f.title=e,f.setAttribute("role","button"),f.setAttribute("aria-label",e),Ze(f),ht(f,"click",_e),ht(f,"click",s,this),ht(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Ot(this._zoomInButton,e),Ot(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ct(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ct(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});gt.mergeOptions({zoomControl:!0}),gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qi,this.addControl(this.zoomControl))});var Rs=function(t){return new Qi(t)},Xn=jt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=bt("div",e),o=this.options;return this._addScales(o,e+"-line",i),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=bt("div",e,i)),t.imperial&&(this._iScale=bt("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e=t*3.2808399,i,o,s;e>5280?(i=e/5280,o=this._getRoundNum(i),this._updateScale(this._iScale,o+" mi",o/i)):(s=this._getRoundNum(e),this._updateScale(this._iScale,s+" ft",s/e))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),Ds=function(t){return new Xn(t)},ks='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',tn=jt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?ks+" ":"")+"Leaflet</a>"},initialize:function(t){O(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=bt("div","leaflet-control-attribution"),Ze(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});gt.mergeOptions({attributionControl:!0}),gt.addInitHook(function(){this.options.attributionControl&&new tn().addTo(this)});var Is=function(t){return new tn(t)};jt.Layers=Yn,jt.Zoom=Qi,jt.Scale=Xn,jt.Attribution=tn,He.layers=zs,He.zoom=Rs,He.scale=Ds,He.attribution=Is;var Xt=G.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xt.addTo=function(t,e){return t.addHandler(e,this),this};var As={Events:Y},Kn=nt.touch?"touchstart mousedown":"mousedown",ae=ot.extend({options:{clickTolerance:3},initialize:function(t,e,i,o){O(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(ht(this._dragStartTarget,Kn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ae._dragging===this&&this.finishDrag(!0),St(this._dragStartTarget,Kn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Hi(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ae._dragging===this&&this.finishDrag();return}if(!(ae._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ae._dragging=this,this._preventOutline&&Vi(this._element),Fi(),Ae(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,i=Fn(this._element);this._startPoint=new K(e.clientX,e.clientY),this._startPos=pe(this._element),this._parentScale=Ui(i);var o=t.type==="mousedown";ht(document,o?"mousemove":"touchmove",this._onMove,this),ht(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,i=new K(e.clientX,e.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,kt(t),this._moved||(this.fire("dragstart"),this._moved=!0,ct(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Mt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Ot(document.body,"leaflet-dragging"),this._lastTarget&&(Ot(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),St(document,"mousemove touchmove",this._onMove,this),St(document,"mouseup touchend touchcancel",this._onUp,this),ji(),Be();var e=this._moved&&this._moving;this._moving=!1,ae._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Jn(t,e,i){var o,s=[1,4,2,8],f,C,I,N,q,J,st,dt;for(f=0,J=t.length;f<J;f++)t[f]._code=ge(t[f],e);for(I=0;I<4;I++){for(st=s[I],o=[],f=0,J=t.length,C=J-1;f<J;C=f++)N=t[f],q=t[C],N._code&st?q._code&st||(dt=di(q,N,st,e,i),dt._code=ge(dt,e),o.push(dt)):(q._code&st&&(dt=di(q,N,st,e,i),dt._code=ge(dt,e),o.push(dt)),o.push(N));t=o}return t}function Qn(t,e){var i,o,s,f,C,I,N,q,J;if(!t||t.length===0)throw new Error("latlngs not passed");Ht(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var st=ft([0,0]),dt=xt(t),At=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());At<1700&&(st=en(t));var Dt=t.length,Wt=[];for(i=0;i<Dt;i++){var Bt=ft(t[i]);Wt.push(e.project(ft([Bt.lat-st.lat,Bt.lng-st.lng])))}for(I=N=q=0,i=0,o=Dt-1;i<Dt;o=i++)s=Wt[i],f=Wt[o],C=s.y*f.x-f.y*s.x,N+=(s.x+f.x)*C,q+=(s.y+f.y)*C,I+=C*3;I===0?J=Wt[0]:J=[N/I,q/I];var Oe=e.unproject($(J));return ft([Oe.lat+st.lat,Oe.lng+st.lng])}function en(t){for(var e=0,i=0,o=0,s=0;s<t.length;s++){var f=ft(t[s]);e+=f.lat,i+=f.lng,o++}return ft([e/o,i/o])}var Bs={__proto__:null,clipPolygon:Jn,polygonCenter:Qn,centroid:en};function tr(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=Hs(t,i),t=Zs(t,i),t}function er(t,e,i){return Math.sqrt(We(t,e,i,!0))}function Ns(t,e,i){return We(t,e,i)}function Zs(t,e){var i=t.length,o=typeof Uint8Array<"u"?Uint8Array:Array,s=new o(i);s[0]=s[i-1]=1,nn(t,s,e,0,i-1);var f,C=[];for(f=0;f<i;f++)s[f]&&C.push(t[f]);return C}function nn(t,e,i,o,s){var f=0,C,I,N;for(I=o+1;I<=s-1;I++)N=We(t[I],t[o],t[s],!0),N>f&&(C=I,f=N);f>i&&(e[C]=1,nn(t,e,i,o,C),nn(t,e,i,C,s))}function Hs(t,e){for(var i=[t[0]],o=1,s=0,f=t.length;o<f;o++)Ws(t[o],t[s])>e&&(i.push(t[o]),s=o);return s<f-1&&i.push(t[f-1]),i}var ir;function nr(t,e,i,o,s){var f=o?ir:ge(t,i),C=ge(e,i),I,N,q;for(ir=C;;){if(!(f|C))return[t,e];if(f&C)return!1;I=f||C,N=di(t,e,I,i,s),q=ge(N,i),I===f?(t=N,f=q):(e=N,C=q)}}function di(t,e,i,o,s){var f=e.x-t.x,C=e.y-t.y,I=o.min,N=o.max,q,J;return i&8?(q=t.x+f*(N.y-t.y)/C,J=N.y):i&4?(q=t.x+f*(I.y-t.y)/C,J=I.y):i&2?(q=N.x,J=t.y+C*(N.x-t.x)/f):i&1&&(q=I.x,J=t.y+C*(I.x-t.x)/f),new K(q,J,s)}function ge(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Ws(t,e){var i=e.x-t.x,o=e.y-t.y;return i*i+o*o}function We(t,e,i,o){var s=e.x,f=e.y,C=i.x-s,I=i.y-f,N=C*C+I*I,q;return N>0&&(q=((t.x-s)*C+(t.y-f)*I)/N,q>1?(s=i.x,f=i.y):q>0&&(s+=C*q,f+=I*q)),C=t.x-s,I=t.y-f,o?C*C+I*I:new K(s,f)}function Ht(t){return!p(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function rr(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ht(t)}function or(t,e){var i,o,s,f,C,I,N,q;if(!t||t.length===0)throw new Error("latlngs not passed");Ht(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var J=ft([0,0]),st=xt(t),dt=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());dt<1700&&(J=en(t));var At=t.length,Dt=[];for(i=0;i<At;i++){var Wt=ft(t[i]);Dt.push(e.project(ft([Wt.lat-J.lat,Wt.lng-J.lng])))}for(i=0,o=0;i<At-1;i++)o+=Dt[i].distanceTo(Dt[i+1])/2;if(o===0)q=Dt[0];else for(i=0,f=0;i<At-1;i++)if(C=Dt[i],I=Dt[i+1],s=C.distanceTo(I),f+=s,f>o){N=(f-o)/s,q=[I.x-N*(I.x-C.x),I.y-N*(I.y-C.y)];break}var Bt=e.unproject($(q));return ft([Bt.lat+J.lat,Bt.lng+J.lng])}var qs={__proto__:null,simplify:tr,pointToSegmentDistance:er,closestPointOnSegment:Ns,clipSegment:nr,_getEdgeIntersection:di,_getBitCode:ge,_sqClosestPointOnSegment:We,isFlat:Ht,_flat:rr,polylineCenter:or},rn={project:function(t){return new K(t.lng,t.lat)},unproject:function(t){return new mt(t.y,t.x)},bounds:new Q([-180,-90],[180,90])},on={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,i=this.R,o=t.lat*e,s=this.R_MINOR/i,f=Math.sqrt(1-s*s),C=f*Math.sin(o),I=Math.tan(Math.PI/4-o/2)/Math.pow((1-C)/(1+C),f/2);return o=-i*Math.log(Math.max(I,1e-10)),new K(t.lng*e*i,o)},unproject:function(t){for(var e=180/Math.PI,i=this.R,o=this.R_MINOR/i,s=Math.sqrt(1-o*o),f=Math.exp(-t.y/i),C=Math.PI/2-2*Math.atan(f),I=0,N=.1,q;I<15&&Math.abs(N)>1e-7;I++)q=s*Math.sin(C),q=Math.pow((1-q)/(1+q),s/2),N=Math.PI/2-2*Math.atan(f*q)-C,C+=N;return new mt(C*e,t.x*e/i)}},Fs={__proto__:null,LonLat:rn,Mercator:on,SphericalMercator:_t},js=u({},X,{code:"EPSG:3395",projection:on,transformation:function(){var t=.5/(Math.PI*on.R);return D(t,.5,-t,.5)}()}),sr=u({},X,{code:"EPSG:4326",projection:rn,transformation:D(1/180,1,-1/180,.5)}),Gs=u({},Nt,{projection:rn,transformation:D(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(i*i+o*o)},infinite:!0});Nt.Earth=X,Nt.EPSG3395=js,Nt.EPSG3857=B,Nt.EPSG900913=F,Nt.EPSG4326=sr,Nt.Simple=Gs;var Gt=ot.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[v(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[v(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});gt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=v(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=v(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return v(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?p(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[v(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=v(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var o in this._zoomBoundLayers){var s=this._zoomBoundLayers[o].options;t=s.minZoom===void 0?t:Math.min(t,s.minZoom),e=s.maxZoom===void 0?e:Math.max(e,s.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pe=Gt.extend({initialize:function(t,e){O(this,e),this._layers={};var i,o;if(t)for(i=0,o=t.length;i<o;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),i,o;for(i in this._layers)o=this._layers[i],o[t]&&o[t].apply(o,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return v(t)}}),Vs=function(t,e){return new Pe(t,e)},te=Pe.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Pe.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Pe.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Pt;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Us=function(t,e){return new te(t,e)},Le=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){O(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(i,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(o,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),o},_setIconStyles:function(t,e){var i=this.options,o=i[e+"Size"];typeof o=="number"&&(o=[o,o]);var s=$(o),f=$(e==="shadow"&&i.shadowAnchor||i.iconAnchor||s&&s.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),f&&(t.style.marginLeft=-f.x+"px",t.style.marginTop=-f.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return nt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function $s(t){return new Le(t)}var qe=Le.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof qe.imagePath!="string"&&(qe.imagePath=this._detectIconPath()),(this.options.imagePath||qe.imagePath)+Le.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(i,o,s){var f=o.exec(i);return f&&f[s]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=bt("div","leaflet-default-icon-path",document.body),e=Ie(t,"background-image")||Ie(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),ar=Xt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ae(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ct(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ot(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,o=this._marker.options.autoPanSpeed,s=this._marker.options.autoPanPadding,f=pe(e._icon),C=i.getPixelBounds(),I=i.getPixelOrigin(),N=yt(C.min._subtract(I).add(s),C.max._subtract(I).subtract(s));if(!N.contains(f)){var q=$((Math.max(N.max.x,f.x)-N.max.x)/(C.max.x-N.max.x)-(Math.min(N.min.x,f.x)-N.min.x)/(C.min.x-N.min.x),(Math.max(N.max.y,f.y)-N.max.y)/(C.max.y-N.max.y)-(Math.min(N.min.y,f.y)-N.min.y)/(C.min.y-N.min.y)).multiplyBy(o);i.panBy(q,{animate:!1}),this._draggable._newPos._add(q),this._draggable._startPos._add(q),Mt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=W(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,o=pe(e._icon),s=e._map.layerPointToLatLng(o);i&&Mt(i,o),e._latlng=s,t.latlng=s,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),pi=Gt.extend({options:{icon:new qe,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){O(this,e),this._latlng=ft(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=ft(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),o=!1;i!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(i.title=t.title),i.tagName==="IMG"&&(i.alt=t.alt||"")),ct(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(i,"focus",this._panOnFocus,this);var s=t.icon.createShadow(this._shadow),f=!1;s!==this._shadow&&(this._removeShadow(),f=!0),s&&(ct(s,e),s.alt=""),this._shadow=s,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&f&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&St(this._icon,"focus",this._panOnFocus,this),Tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Tt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Mt(this._icon,t),this._shadow&&Mt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ar)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ar(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Zt(this._icon,t),this._shadow&&Zt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?$(e.iconSize):$(0,0),o=e.iconAnchor?$(e.iconAnchor):$(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:i.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ys(t,e){return new pi(t,e)}var le=Gt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return O(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),mi=le.extend({options:{fill:!0,radius:10},initialize:function(t,e){O(this,e),this._latlng=ft(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=ft(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return le.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),o=[t+i,e+i];this._pxBounds=new Q(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xs(t,e){return new mi(t,e)}var sn=mi.extend({initialize:function(t,e,i){if(typeof e=="number"&&(e=u({},i,{radius:e})),O(this,e),this._latlng=ft(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Pt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:le.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,o=i.options.crs;if(o.distance===X.distance){var s=Math.PI/180,f=this._mRadius/X.R/s,C=i.project([e+f,t]),I=i.project([e-f,t]),N=C.add(I).divideBy(2),q=i.unproject(N).lat,J=Math.acos((Math.cos(f*s)-Math.sin(e*s)*Math.sin(q*s))/(Math.cos(e*s)*Math.cos(q*s)))/s;(isNaN(J)||J===0)&&(J=f/Math.cos(Math.PI/180*e)),this._point=N.subtract(i.getPixelOrigin()),this._radius=isNaN(J)?0:N.x-i.project([q,t-J]).x,this._radiusY=N.y-C.y}else{var st=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(st).x}this._updateBounds()}});function Ks(t,e,i){return new sn(t,e,i)}var ee=le.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){O(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,i=null,o=We,s,f,C=0,I=this._parts.length;C<I;C++)for(var N=this._parts[C],q=1,J=N.length;q<J;q++){s=N[q-1],f=N[q];var st=o(t,s,f,!0);st<e&&(e=st,i=o(t,s,f))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return or(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=ft(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Pt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ht(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Ht(t),o=0,s=t.length;o<s;o++)i?(e[o]=ft(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new K(t,t);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var o=t[0]instanceof mt,s=t.length,f,C;if(o){for(C=[],f=0;f<s;f++)C[f]=this._map.latLngToLayerPoint(t[f]),i.extend(C[f]);e.push(C)}else for(f=0;f<s;f++)this._projectLatlngs(t[f],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,i,o,s,f,C,I,N;for(i=0,s=0,f=this._rings.length;i<f;i++)for(N=this._rings[i],o=0,C=N.length;o<C-1;o++)I=nr(N[o],N[o+1],t,o,!0),I&&(e[s]=e[s]||[],e[s].push(I[0]),(I[1]!==N[o+1]||o===C-2)&&(e[s].push(I[1]),s++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,o=t.length;i<o;i++)t[i]=tr(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,o,s,f,C,I,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,f=this._parts.length;i<f;i++)for(I=this._parts[i],o=0,C=I.length,s=C-1;o<C;s=o++)if(!(!e&&o===0)&&er(t,I[s],I[o])<=N)return!0;return!1}});function Js(t,e){return new ee(t,e)}ee._flat=rr;var Se=ee.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=ee.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof mt&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){ee.prototype._setLatLngs.call(this,t),Ht(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ht(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new K(e,e);if(t=new Q(t.min.subtract(i),t.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var o=0,s=this._rings.length,f;o<s;o++)f=Jn(this._rings[o],t,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,i,o,s,f,C,I,N,q;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(f=0,N=this._parts.length;f<N;f++)for(i=this._parts[f],C=0,q=i.length,I=q-1;C<q;I=C++)o=i[C],s=i[I],o.y>t.y!=s.y>t.y&&t.x<(s.x-o.x)*(t.y-o.y)/(s.y-o.y)+o.x&&(e=!e);return e||ee.prototype._containsPoint.call(this,t,!0)}});function Qs(t,e){return new Se(t,e)}var ie=te.extend({initialize:function(t,e){O(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=p(t)?t:t.features,i,o,s;if(e){for(i=0,o=e.length;i<o;i++)s=e[i],(s.geometries||s.geometry||s.features||s.coordinates)&&this.addData(s);return this}var f=this.options;if(f.filter&&!f.filter(t))return this;var C=_i(t,f);return C?(C.feature=yi(t),C.defaultOptions=C.options,this.resetStyle(C),f.onEachFeature&&f.onEachFeature(t,C),this.addLayer(C)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function _i(t,e){var i=t.type==="Feature"?t.geometry:t,o=i?i.coordinates:null,s=[],f=e&&e.pointToLayer,C=e&&e.coordsToLatLng||an,I,N,q,J;if(!o&&!i)return null;switch(i.type){case"Point":return I=C(o),lr(f,t,I,e);case"MultiPoint":for(q=0,J=o.length;q<J;q++)I=C(o[q]),s.push(lr(f,t,I,e));return new te(s);case"LineString":case"MultiLineString":return N=gi(o,i.type==="LineString"?0:1,C),new ee(N,e);case"Polygon":case"MultiPolygon":return N=gi(o,i.type==="Polygon"?1:2,C),new Se(N,e);case"GeometryCollection":for(q=0,J=i.geometries.length;q<J;q++){var st=_i({geometry:i.geometries[q],type:"Feature",properties:t.properties},e);st&&s.push(st)}return new te(s);case"FeatureCollection":for(q=0,J=i.features.length;q<J;q++){var dt=_i(i.features[q],e);dt&&s.push(dt)}return new te(s);default:throw new Error("Invalid GeoJSON object.")}}function lr(t,e,i,o){return t?t(e,i):new pi(i,o&&o.markersInheritOptions&&o)}function an(t){return new mt(t[1],t[0],t[2])}function gi(t,e,i){for(var o=[],s=0,f=t.length,C;s<f;s++)C=e?gi(t[s],e-1,i):(i||an)(t[s]),o.push(C);return o}function ln(t,e){return t=ft(t),t.alt!==void 0?[k(t.lng,e),k(t.lat,e),k(t.alt,e)]:[k(t.lng,e),k(t.lat,e)]}function vi(t,e,i,o){for(var s=[],f=0,C=t.length;f<C;f++)s.push(e?vi(t[f],Ht(t[f])?0:e-1,i,o):ln(t[f],o));return!e&&i&&s.length>0&&s.push(s[0].slice()),s}function Te(t,e){return t.feature?u({},t.feature,{geometry:e}):yi(e)}function yi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var un={toGeoJSON:function(t){return Te(this,{type:"Point",coordinates:ln(this.getLatLng(),t)})}};pi.include(un),sn.include(un),mi.include(un),ee.include({toGeoJSON:function(t){var e=!Ht(this._latlngs),i=vi(this._latlngs,e?1:0,!1,t);return Te(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),Se.include({toGeoJSON:function(t){var e=!Ht(this._latlngs),i=e&&!Ht(this._latlngs[0]),o=vi(this._latlngs,i?2:e?1:0,!0,t);return e||(o=[o]),Te(this,{type:(i?"Multi":"")+"Polygon",coordinates:o})}}),Pe.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),Te(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var i=e==="GeometryCollection",o=[];return this.eachLayer(function(s){if(s.toGeoJSON){var f=s.toGeoJSON(t);if(i)o.push(f.geometry);else{var C=yi(f);C.type==="FeatureCollection"?o.push.apply(o,C.features):o.push(C)}}}),i?Te(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});function ur(t,e){return new ie(t,e)}var ta=ur,wi=Gt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=xt(e),O(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&xe(this._image),this},bringToBack:function(){return this._map&&be(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=xt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:bt("img");if(ct(e,"leaflet-image-layer"),this._zoomAnimated&&ct(e,"leaflet-zoom-animated"),this.options.className&&ct(e,this.options.className),e.onselectstart=x,e.onmousemove=x,e.onload=g(this.fire,this,"load"),e.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;de(this._image,i,e)},_reset:function(){var t=this._image,e=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();Mt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ea=function(t,e,i){return new wi(t,e,i)},hr=wi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:bt("video");if(ct(e,"leaflet-image-layer"),this._zoomAnimated&&ct(e,"leaflet-zoom-animated"),this.options.className&&ct(e,this.options.className),e.onselectstart=x,e.onmousemove=x,e.onloadeddata=g(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),o=[],s=0;s<i.length;s++)o.push(i[s].src);this._url=i.length>0?o:[e.src];return}p(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var C=bt("source");C.src=this._url[f],e.appendChild(C)}}});function ia(t,e,i){return new hr(t,e,i)}var cr=wi.extend({_initImage:function(){var t=this._image=this._url;ct(t,"leaflet-image-layer"),this._zoomAnimated&&ct(t,"leaflet-zoom-animated"),this.options.className&&ct(t,this.options.className),t.onselectstart=x,t.onmousemove=x}});function na(t,e,i){return new cr(t,e,i)}var Kt=Gt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof mt||p(t))?(this._latlng=ft(t),O(this,e)):(O(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(g(Tt,void 0,this._container),200)):Tt(this._container),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ft(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xe(this._container),this},bringToBack:function(){return this._map&&be(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof te){e=null;var i=this._source._layers;for(var o in i)if(i[o]._map){e=i[o];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=$(this.options.offset),i=this._getAnchor();this._zoomAnimated?Mt(this._container,t.add(i)):e=e.add(t).add(i);var o=this._containerBottom=-e.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}});gt.include({_initOverlay:function(t,e,i,o){var s=e;return s instanceof t||(s=new t(o).setContent(e)),i&&s.setLatLng(i),s}}),Gt.include({_initOverlay:function(t,e,i,o){var s=i;return s instanceof t?(O(s,o),s._source=this):(s=e&&!o?e:new t(o,this),s.setContent(i)),s}});var xi=Kt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Kt.prototype.openOn.call(this,t)},onAdd:function(t){Kt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof le||this._source.on("preclick",me))},onRemove:function(t){Kt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof le||this._source.off("preclick",me))},getEvents:function(){var t=Kt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=bt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=bt("div",t+"-content-wrapper",e);if(this._contentNode=bt("div",t+"-content",i),Ze(e),Ki(this._contentNode),ht(e,"contextmenu",me),this._tipContainer=bt("div",t+"-tip-container",e),this._tip=bt("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=bt("a",t+"-close-button",e);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',ht(o,"click",function(s){kt(s),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,s=this.options.maxHeight,f="leaflet-popup-scrolled";s&&o>s?(e.height=s+"px",ct(t,f)):Ot(t,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();Mt(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(Ie(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,o=this._containerWidth,s=new K(this._containerLeft,-i-this._containerBottom);s._add(pe(this._container));var f=t.layerPointToContainerPoint(s),C=$(this.options.autoPanPadding),I=$(this.options.autoPanPaddingTopLeft||C),N=$(this.options.autoPanPaddingBottomRight||C),q=t.getSize(),J=0,st=0;f.x+o+N.x>q.x&&(J=f.x+o-q.x+N.x),f.x-J-I.x<0&&(J=f.x-I.x),f.y+i+N.y>q.y&&(st=f.y+i-q.y+N.y),f.y-st-I.y<0&&(st=f.y-I.y),(J||st)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([J,st]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ra=function(t,e){return new xi(t,e)};gt.mergeOptions({closePopupOnClick:!0}),gt.include({openPopup:function(t,e,i){return this._initOverlay(xi,t,e,i).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Gt.include({bindPopup:function(t,e){return this._popup=this._initOverlay(xi,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof te||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){_e(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof le)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var bi=Kt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Kt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Kt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Kt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,o=this._map,s=this._container,f=o.latLngToContainerPoint(o.getCenter()),C=o.layerPointToContainerPoint(t),I=this.options.direction,N=s.offsetWidth,q=s.offsetHeight,J=$(this.options.offset),st=this._getAnchor();I==="top"?(e=N/2,i=q):I==="bottom"?(e=N/2,i=0):I==="center"?(e=N/2,i=q/2):I==="right"?(e=0,i=q/2):I==="left"?(e=N,i=q/2):C.x<f.x?(I="right",e=0,i=q/2):(I="left",e=N+(J.x+st.x)*2,i=q/2),t=t.subtract($(e,i,!0)).add(J).add(st),Ot(s,"leaflet-tooltip-right"),Ot(s,"leaflet-tooltip-left"),Ot(s,"leaflet-tooltip-top"),Ot(s,"leaflet-tooltip-bottom"),ct(s,"leaflet-tooltip-"+I),Mt(s,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Zt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),oa=function(t,e){return new bi(t,e)};gt.include({openTooltip:function(t,e,i){return this._initOverlay(bi,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Gt.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(bi,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof te||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(ht(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ht(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,i,o;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),o=this._map.containerPointToLayerPoint(i),e=this._map.layerPointToLatLng(o)),this._tooltip.setLatLng(e)}});var fr=Le.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(li(e),e.appendChild(i.html)):e.innerHTML=i.html!==!1?i.html:"",i.bgPos){var o=$(i.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function sa(t){return new fr(t)}Le.Default=qe;var Fe=Gt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){O(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Tt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(be(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=z(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof K?t:new K(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,i=-t(-1/0,1/0),o=0,s=e.length,f;o<s;o++)f=e[o].style.zIndex,e[o]!==this._container&&f&&(i=t(i,+f));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){Zt(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var o in this._tiles){var s=this._tiles[o];if(!(!s.current||!s.loaded)){var f=Math.min(1,(t-s.loaded)/200);Zt(s.el,f),f<1?e=!0:(s.active?i=!0:this._onOpaqueTile(s),s.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(Z(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=bt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(Tt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var o=this._levels[t],s=this._map;return o||(o=this._levels[t]={},o.el=bt("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=s.project(s.unproject(s.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,s.getCenter(),s.getZoom()),x(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Tt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,o){var s=Math.floor(t/2),f=Math.floor(e/2),C=i-1,I=new K(+s,+f);I.z=+C;var N=this._tileCoordsToKey(I),q=this._tiles[N];return q&&q.active?(q.retain=!0,!0):(q&&q.loaded&&(q.retain=!0),C>o?this._retainParent(s,f,C,o):!1)},_retainChildren:function(t,e,i,o){for(var s=2*t;s<2*t+2;s++)for(var f=2*e;f<2*e+2;f++){var C=new K(s,f);C.z=i+1;var I=this._tileCoordsToKey(C),N=this._tiles[I];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);i+1<o&&this._retainChildren(s,f,i+1,o)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,o){var s=Math.round(e);this.options.maxZoom!==void 0&&s>this.options.maxZoom||this.options.minZoom!==void 0&&s<this.options.minZoom?s=void 0:s=this._clampZoom(s);var f=this.options.updateWhenZooming&&s!==this._tileZoom;(!o||f)&&(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),s!==void 0&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var o=this._map.getZoomScale(i,t.zoom),s=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,i)).round();nt.any3d?de(t.el,s,o):Mt(t.el,s)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),o=this._tileZoom,s=this._map.getPixelWorldBounds(this._tileZoom);s&&(this._globalTileRange=this._pxBoundsToTileRange(s)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(i,this._tileZoom),s=e.project(t,this._tileZoom).floor(),f=e.getSize().divideBy(o*2);return new Q(s.subtract(f),s.add(f))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var o=this._getTiledPixelBounds(t),s=this._pxBoundsToTileRange(o),f=s.getCenter(),C=[],I=this.options.keepBuffer,N=new Q(s.getBottomLeft().subtract([I,-I]),s.getTopRight().add([I,-I]));if(!(isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.max.x)&&isFinite(s.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var q in this._tiles){var J=this._tiles[q].coords;(J.z!==this._tileZoom||!N.contains(new K(J.x,J.y)))&&(this._tiles[q].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(t,i);return}for(var st=s.min.y;st<=s.max.y;st++)for(var dt=s.min.x;dt<=s.max.x;dt++){var At=new K(dt,st);if(At.z=this._tileZoom,!!this._isValidTile(At)){var Dt=this._tiles[this._tileCoordsToKey(At)];Dt?Dt.current=!0:C.push(At)}}if(C.sort(function(Bt,Oe){return Bt.distanceTo(f)-Oe.distanceTo(f)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wt=document.createDocumentFragment();for(dt=0;dt<C.length;dt++)this._addTile(C[dt],Wt);this._level.el.appendChild(Wt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return xt(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),o=t.scaleBy(i),s=o.add(i),f=e.unproject(o,t.z),C=e.unproject(s,t.z);return[f,C]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new Pt(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new K(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(Tt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ct(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=x,t.onmousemove=x,nt.ielt9&&this.options.opacity<1&&Zt(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),o=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),g(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&W(g(this._tileReady,this,t,null,s)),Mt(s,i),this._tiles[o]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var o=this._tileCoordsToKey(t);i=this._tiles[o],i&&(i.loaded=+new Date,this._map._fadeAnimated?(Zt(i.el,0),Z(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(ct(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new K(this._wrapX?M(t.x,this._wrapX):t.x,this._wrapY?M(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new Q(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function aa(t){return new Fe(t)}var Ce=Fe.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=O(this,e),e.detectRetina&&nt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return ht(i,"load",g(this._tileOnLoad,this,e,i)),ht(i,"error",g(this._tileOnError,this,e,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:nt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return h(this._url,u(e,this.options))},_tileOnLoad:function(t,e){nt.ielt9?setTimeout(g(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,o=this.options.zoomOffset;return i&&(t=e-t),t+o},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=x,e.onerror=x,!e.complete)){e.src=y;var i=this._tiles[t].coords;Tt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",y),Fe.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(!(!this._map||i&&i.getAttribute("src")===y))return Fe.prototype._tileReady.call(this,t,e,i)}});function dr(t,e){return new Ce(t,e)}var pr=Ce.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=u({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);e=O(this,e);var s=e.detectRetina&&nt.retina?2:1,f=this.getTileSize();i.width=f.x*s,i.height=f.y*s,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Ce.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,o=yt(i.project(e[0]),i.project(e[1])),s=o.min,f=o.max,C=(this._wmsVersion>=1.3&&this._crs===sr?[s.y,s.x,f.y,f.x]:[s.x,s.y,f.x,f.y]).join(","),I=Ce.prototype.getTileUrl.call(this,t);return I+m(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(t,e){return u(this.wmsParams,t),e||this.redraw(),this}});function la(t,e){return new pr(t,e)}Ce.WMS=pr,dr.wms=la;var ne=Gt.extend({options:{padding:.1},initialize:function(t){O(this,t),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),f=o.multiplyBy(-i).add(s).subtract(this._map._getNewPixelOrigin(t,e));nt.any3d?de(this._container,f,i):Mt(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new Q(i,i.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mr=ne.extend({options:{tolerance:0},getEvents:function(){var t=ne.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ne.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ht(t,"mousemove",this._onMouseMove,this),ht(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ht(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,Tt(this._container),St(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ne.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),o=nt.retina?2:1;Mt(e,t.min),e.width=o*i.x,e.height=o*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ne.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[v(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,o=e.prev;i?i.prev=o:this._drawLast=o,o?o.next=i:this._drawFirst=i,delete t._order,delete this._layers[v(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),i=[],o,s;for(s=0;s<e.length;s++){if(o=Number(e[s]),isNaN(o))return;i.push(o)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,o,s,f,C=t._parts,I=C.length,N=this._ctx;if(I){for(N.beginPath(),i=0;i<I;i++){for(o=0,s=C[i].length;o<s;o++)f=C[i][o],N[o?"lineTo":"moveTo"](f.x,f.y);e&&N.closePath()}this._fillStroke(N,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,i=this._ctx,o=Math.max(Math.round(t._radius),1),s=(Math.max(Math.round(t._radiusY),1)||o)/o;s!==1&&(i.save(),i.scale(1,s)),i.beginPath(),i.arc(e.x,e.y/s,o,0,Math.PI*2,!1),s!==1&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),i,o,s=this._drawFirst;s;s=s.next)i=s.layer,i.options.interactive&&i._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(i))&&(o=i);this._fireEvent(o?[o]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,o,s=this._drawFirst;s;s=s.next)i=s.layer,i.options.interactive&&i._containsPoint(e)&&(o=i);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(ct(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;if(i)i.prev=o;else return;o?o.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;if(o)o.next=i;else return;i?i.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function _r(t){return nt.canvas?new mr(t):null}var je=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ua={_initContainer:function(){this._container=bt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ne.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=je("shape");ct(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=je("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[v(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Tt(e),t.removeInteractiveTarget(e),delete this._layers[v(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,o=t.options,s=t._container;s.stroked=!!o.stroke,s.filled=!!o.fill,o.stroke?(e||(e=t._stroke=je("stroke")),s.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=p(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(s.removeChild(e),t._stroke=null),o.fill?(i||(i=t._fill=je("fill")),s.appendChild(i),i.color=o.fillColor||o.color,i.opacity=o.fillOpacity):i&&(s.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),o=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+o+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){xe(t._container)},_bringToBack:function(t){be(t._container)}},Pi=nt.vml?je:it,Ge=ne.extend({_initContainer:function(){this._container=Pi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Pi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Tt(this._container),St(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ne.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),Mt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Pi("path");t.options.className&&ct(e,t.options.className),t.options.interactive&&ct(e,"leaflet-interactive"),this._updateStyle(t),this._layers[v(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Tt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[v(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,U(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),o=Math.max(Math.round(t._radiusY),1)||i,s="a"+i+","+o+" 0 1,0 ",f=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+s+i*2+",0 "+s+-i*2+",0 ";this._setPath(t,f)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){xe(t._path)},_bringToBack:function(t){be(t._path)}});nt.vml&&Ge.include(ua);function gr(t){return nt.svg||nt.vml?new Ge(t):null}gt.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&_r(t)||gr(t)}});var vr=Se.extend({initialize:function(t,e){Se.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=xt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function ha(t,e){return new vr(t,e)}Ge.create=Pi,Ge.pointsToPath=U,ie.geometryToLayer=_i,ie.coordsToLatLng=an,ie.coordsToLatLngs=gi,ie.latLngToCoords=ln,ie.latLngsToCoords=vi,ie.getFeature=Te,ie.asFeature=yi,gt.mergeOptions({boxZoom:!0});var yr=Xt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ae(),Fi(),this._startPoint=this._map.mouseEventToContainerPoint(t),ht(document,{contextmenu:_e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=bt("div","leaflet-zoom-box",this._container),ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new Q(this._point,this._startPoint),i=e.getSize();Mt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(Tt(this._box),Ot(this._container,"leaflet-crosshair")),Be(),ji(),St(document,{contextmenu:_e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var e=new Pt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gt.addInitHook("addHandler","boxZoom",yr),gt.mergeOptions({doubleClickZoom:!0});var wr=Xt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),o=e.options.zoomDelta,s=t.originalEvent.shiftKey?i-o:i+o;e.options.doubleClickZoom==="center"?e.setZoom(s):e.setZoomAround(t.containerPoint,s)}});gt.addInitHook("addHandler","doubleClickZoom",wr),gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xr=Xt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ae(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ot(this._map._container,"leaflet-grab"),Ot(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=xt(this._map.options.maxBounds);this._offsetLimit=yt(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,o=this._draggable._newPos.x,s=(o-e+i)%t+e-i,f=(o+e+i)%t-e-i,C=Math.abs(s+i)<Math.abs(f+i)?s:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(t){var e=this._map,i=e.options,o=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var s=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,C=i.easeLinearity,I=s.multiplyBy(C/f),N=I.distanceTo([0,0]),q=Math.min(i.inertiaMaxSpeed,N),J=I.multiplyBy(q/N),st=q/(i.inertiaDeceleration*C),dt=J.multiplyBy(-st/2).round();!dt.x&&!dt.y?e.fire("moveend"):(dt=e._limitOffset(dt,e.options.maxBounds),W(function(){e.panBy(dt,{duration:st,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});gt.addInitHook("addHandler","dragging",xr),gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var br=Xt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ht(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),St(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},i=this.keyCodes,o,s;for(o=0,s=i.left.length;o<s;o++)e[i.left[o]]=[-1*t,0];for(o=0,s=i.right.length;o<s;o++)e[i.right[o]]=[t,0];for(o=0,s=i.down.length;o<s;o++)e[i.down[o]]=[0,t];for(o=0,s=i.up.length;o<s;o++)e[i.up[o]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},i=this.keyCodes,o,s;for(o=0,s=i.zoomIn.length;o<s;o++)e[i.zoomIn[o]]=t;for(o=0,s=i.zoomOut.length;o<s;o++)e[i.zoomOut[o]]=-t},_addHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){St(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,i=this._map,o;if(e in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(o=this._panKeys[e],t.shiftKey&&(o=$(o).multiplyBy(3)),i.options.maxBounds&&(o=i._limitOffset($(o),i.options.maxBounds)),i.options.worldCopyJump){var s=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(o)));i.panTo(s)}else i.panBy(o)}else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;_e(t)}}});gt.addInitHook("addHandler","keyboard",br),gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pr=Xt.extend({addHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Un(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),o),_e(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(this._map.options.wheelPxPerZoomLevel*4),s=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,f=i?Math.ceil(s/i)*i:s,C=t._limitZoom(e+(this._delta>0?f:-f))-e;this._delta=0,this._startTime=null,C&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+C):t.setZoomAround(this._lastMousePos,e+C))}});gt.addInitHook("addHandler","scrollWheelZoom",Pr);var ca=600;gt.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var Lr=Xt.extend({addHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new K(e.clientX,e.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(ht(document,"touchend",kt),ht(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),ca),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){St(document,"touchend",kt),St(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),St(document,"touchend touchcancel contextmenu",this._cancel,this),St(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new K(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});gt.addInitHook("addHandler","tapHold",Lr),gt.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var Sr=Xt.extend({addHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(o)._divideBy(2))),this._startDist=i.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),kt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),s=i.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,s===1)return}else{var f=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(s===1&&f.x===0&&f.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var C=g(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(C,this,!0),kt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gt.addInitHook("addHandler","touchZoom",Sr),gt.BoxZoom=yr,gt.DoubleClickZoom=wr,gt.Drag=xr,gt.Keyboard=br,gt.ScrollWheelZoom=Pr,gt.TapHold=Lr,gt.TouchZoom=Sr,a.Bounds=Q,a.Browser=nt,a.CRS=Nt,a.Canvas=mr,a.Circle=sn,a.CircleMarker=mi,a.Class=G,a.Control=jt,a.DivIcon=fr,a.DivOverlay=Kt,a.DomEvent=Es,a.DomUtil=Cs,a.Draggable=ae,a.Evented=ot,a.FeatureGroup=te,a.GeoJSON=ie,a.GridLayer=Fe,a.Handler=Xt,a.Icon=Le,a.ImageOverlay=wi,a.LatLng=mt,a.LatLngBounds=Pt,a.Layer=Gt,a.LayerGroup=Pe,a.LineUtil=qs,a.Map=gt,a.Marker=pi,a.Mixin=As,a.Path=le,a.Point=K,a.PolyUtil=Bs,a.Polygon=Se,a.Polyline=ee,a.Popup=xi,a.PosAnimation=$n,a.Projection=Fs,a.Rectangle=vr,a.Renderer=ne,a.SVG=Ge,a.SVGOverlay=cr,a.TileLayer=Ce,a.Tooltip=bi,a.Transformation=R,a.Util=V,a.VideoOverlay=hr,a.bind=g,a.bounds=yt,a.canvas=_r,a.circle=Ks,a.circleMarker=Xs,a.control=He,a.divIcon=sa,a.extend=u,a.featureGroup=Us,a.geoJSON=ur,a.geoJson=ta,a.gridLayer=aa,a.icon=$s,a.imageOverlay=ea,a.latLng=ft,a.latLngBounds=xt,a.layerGroup=Vs,a.map=Ms,a.marker=Ys,a.point=$,a.polygon=Qs,a.polyline=Js,a.popup=ra,a.rectangle=ha,a.setOptions=O,a.stamp=v,a.svg=gr,a.svgOverlay=na,a.tileLayer=dr,a.tooltip=oa,a.transformation=D,a.version=l,a.videoOverlay=ia;var fa=window.L;a.noConflict=function(){return window.L=fa,this},window.L=a})}(ii,ii.exports)),ii.exports}var oi=lu();const $o=Oa(oi),uu=r=>{if(r.length===0)return{center:{lat:0,lng:0},zoom:10};const n=new $o.LatLngBounds([]);r.forEach(u=>{n.extend([u.gpsLocation.lat,u.gpsLocation.lon])});const a=n.getCenter(),l=Math.min(16,Math.max(10,Math.round(14-Math.log2(n.getNorthEast().distanceTo(n.getSouthWest())/5e4))));return{center:a,zoom:l}};function Yo(r,n){const a=ut.useRef(n);ut.useEffect(function(){n!==a.current&&r.attributionControl!=null&&(a.current!=null&&r.attributionControl.removeAttribution(a.current),n!=null&&r.attributionControl.addAttribution(n)),a.current=n},[r,n])}const hu=1;function cu(r){return Object.freeze({__version:hu,map:r})}function fu(r,n){return Object.freeze({...r,...n})}const Pn=ut.createContext(null);function Xo(){const r=ut.use(Pn);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function du(r){function n(a,l){const{instance:u,context:d}=r(a).current;ut.useImperativeHandle(l,()=>u);const{children:g}=a;return g==null?null:wt.createElement(Pn,{value:d},g)}return ut.forwardRef(n)}function pu(r){function n(a,l){const[u,d]=ut.useState(!1),{instance:g}=r(a,d).current;ut.useImperativeHandle(l,()=>g),ut.useEffect(function(){u&&g.update()},[g,u,a.children]);const E=g._contentNode;return E?Fa.createPortal(a.children,E):null}return ut.forwardRef(n)}function mu(r){function n(a,l){const{instance:u}=r(a).current;return ut.useImperativeHandle(l,()=>u),null}return ut.forwardRef(n)}function Ko(r,n){const a=ut.useRef(void 0);ut.useEffect(function(){return n!=null&&r.instance.on(n),a.current=n,function(){a.current!=null&&r.instance.off(a.current),a.current=null}},[r,n])}function Ln(r,n){const a=r.pane??n.pane;return a?{...r,pane:a}:r}function _u(r,n){return function(l,u){const d=Xo(),g=r(Ln(l,d),d);return Yo(d.map,l.attribution),Ko(g.current,l.eventHandlers),n(g.current,d,l,u),g}}function Sn(r,n,a){return Object.freeze({instance:r,context:n,container:a})}function Tn(r,n){return n==null?function(l,u){const d=ut.useRef(void 0);return d.current||(d.current=r(l,u)),d}:function(l,u){const d=ut.useRef(void 0);d.current||(d.current=r(l,u));const g=ut.useRef(l),{instance:E}=d.current;return ut.useEffect(function(){g.current!==l&&(n(E,l,g.current),g.current=l)},[E,l,n]),d}}function gu(r,n){ut.useEffect(function(){return(n.layerContainer??n.map).addLayer(r.instance),function(){var d;(d=n.layerContainer)==null||d.removeLayer(r.instance),n.map.removeLayer(r.instance)}},[n,r])}function Jo(r){return function(a){const l=Xo(),u=r(Ln(a,l),l);return Yo(l.map,a.attribution),Ko(u.current,a.eventHandlers),gu(u.current,l),u}}function vu(r,n){const a=Tn(r,n),l=Jo(a);return du(l)}function yu(r,n){const a=Tn(r),l=_u(a,n);return pu(l)}function wu(r,n){const a=Tn(r,n),l=Jo(a);return mu(l)}function xu(r,n,a){const{opacity:l,zIndex:u}=n;l!=null&&l!==a.opacity&&r.setOpacity(l),u!=null&&u!==a.zIndex&&r.setZIndex(u)}function bu({bounds:r,boundsOptions:n,center:a,children:l,className:u,id:d,placeholder:g,style:E,whenReady:v,zoom:z,...M},x){const[k]=ut.useState({className:u,id:d,style:E}),[P,w]=ut.useState(null),O=ut.useRef(void 0);ut.useImperativeHandle(x,()=>(P==null?void 0:P.map)??null,[P]);const m=ut.useCallback(h=>{if(h!==null&&!O.current){const p=new oi.Map(h,M);O.current=p,a!=null&&z!=null?p.setView(a,z):r!=null&&p.fitBounds(r,n),v!=null&&p.whenReady(v),w(cu(p))}},[]);ut.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const c=P?wt.createElement(Pn,{value:P},l):g??null;return wt.createElement("div",{...k,ref:m},c)}const Pu=ut.forwardRef(bu),Lu=vu(function({position:n,...a},l){const u=new oi.Marker(n,a);return Sn(u,fu(l,{overlayContainer:u}))},function(n,a,l){a.position!==l.position&&n.setLatLng(a.position),a.icon!=null&&a.icon!==l.icon&&n.setIcon(a.icon),a.zIndexOffset!=null&&a.zIndexOffset!==l.zIndexOffset&&n.setZIndexOffset(a.zIndexOffset),a.opacity!=null&&a.opacity!==l.opacity&&n.setOpacity(a.opacity),n.dragging!=null&&a.draggable!==l.draggable&&(a.draggable===!0?n.dragging.enable():n.dragging.disable())}),Su=yu(function(n,a){const l=new oi.Popup(n,a.overlayContainer);return Sn(l,a)},function(n,a,{position:l},u){ut.useEffect(function(){const{instance:g}=n;function E(z){z.popup===g&&(g.update(),u(!0))}function v(z){z.popup===g&&u(!1)}return a.map.on({popupopen:E,popupclose:v}),a.overlayContainer==null?(l!=null&&g.setLatLng(l),g.openOn(a.map)):a.overlayContainer.bindPopup(g),function(){var M;a.map.off({popupopen:E,popupclose:v}),(M=a.overlayContainer)==null||M.unbindPopup(),a.map.removeLayer(g)}},[n,a,u,l])}),Tu=wu(function({url:n,...a},l){const u=new oi.TileLayer(n,Ln(a,l));return Sn(u,l)},function(n,a,l){xu(n,a,l);const{url:u}=a;u!=null&&u!==l.url&&n.setUrl(u)});function Cu(r){const n=Rt.c(8),{zoom:a,center:l,markers:u}=r;let d,g;n[0]===Symbol.for("react.memo_cache_sentinel")?(d={width:"100%",height:"497px"},g=j.jsx(Tu,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n[0]=d,n[1]=g):(d=n[0],g=n[1]);let E;n[2]!==u?(E=u&&u.map(Ou),n[2]=u,n[3]=E):E=n[3];let v;return n[4]!==l||n[5]!==E||n[6]!==a?(v=j.jsx("div",{children:j.jsxs(Pu,{center:l,zoom:a,style:d,children:[g,E]})}),n[4]=l,n[5]=E,n[6]=a,n[7]=v):v=n[7],v}function Ou(r){return j.jsx(Lu,{position:[r.lat,r.lng],icon:new $o.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41]}),children:j.jsx(Su,{children:r.popup})},r.id)}function Eu(r){const n=Rt.c(24),{title:a}=r,[l,u]=ut.useState(!1),d=ni(Mu);let g;n[0]!==d?(g=uu(Object.values(d)),n[0]=d,n[1]=g):g=n[1];const{center:E,zoom:v}=g,{t:z}=ri();let M;n[2]!==z||n[3]!==d?(M=b=>{const y=d[b];return j.jsxs("div",{children:[j.jsx("strong",{children:b}),j.jsx("br",{}),z("filterLabelDistance"),": ",y.distance," km",j.jsx("br",{}),z("filterLabelMode"),": ",y.mode]})},n[2]=z,n[3]=d,n[4]=M):M=n[4];const x=M;let k,P;n[5]===Symbol.for("react.memo_cache_sentinel")?(k=()=>u(!0),P=()=>u(!1),n[5]=k,n[6]=P):(k=n[5],P=n[6]);const w=!l;let O;n[7]!==w?(O=qt("overview-map",{"overview-map--not-active":w}),n[7]=w,n[8]=O):O=n[8];let m;n[9]!==a?(m=j.jsx("div",{className:"data-plate__title",children:j.jsx("strong",{children:a})}),n[9]=a,n[10]=m):m=n[10];let c;if(n[11]!==x||n[12]!==d){let b;n[14]!==x?(b=y=>{const{win:T,gpsLocation:_}=y,{lat:S,lon:A}=_;return{id:T,lat:S,lng:A,popup:x(T)}},n[14]=x,n[15]=b):b=n[15],c=Object.values(d).map(b),n[11]=x,n[12]=d,n[13]=c}else c=n[13];let h;n[16]!==E||n[17]!==c||n[18]!==v?(h=j.jsx(Cu,{center:E,zoom:v,markers:c}),n[16]=E,n[17]=c,n[18]=v,n[19]=h):h=n[19];let p;return n[20]!==O||n[21]!==m||n[22]!==h?(p=j.jsxs("div",{onMouseDown:k,onMouseLeave:P,className:O,children:[m,h]}),n[20]=O,n[21]=m,n[22]=h,n[23]=p):p=n[23],p}function Mu(r){return r.evList.itemsById}const yo=Me("summaryHiddenFields"),Qo=Me("summaryCollapsed"),ts=Me("summaryFieldsConfig"),zu=Ei(ts,[]),Ru=zu.reduce((r,n)=>({...r,[n.i]:n}),{}),Du=go.WidthProvider(go.Responsive);function ku(){const r=Rt.c(35),{t:n}=Ea(),a=To(Ma);let l;r[0]===Symbol.for("react.memo_cache_sentinel")?(l=Ei(Qo,!1),r[0]=l):l=r[0];const[u,d]=ut.useState(l);let g;r[1]===Symbol.for("react.memo_cache_sentinel")?(g=Ei(yo,[]),r[1]=g):g=r[1];const[E,v]=ut.useState(g),[z]=bo();let M;r[2]!==z?(M=z.get("sortOrder"),r[2]=z,r[3]=M):M=r[3];const x=M;let k;r[4]!==x?(k=m=>Oo(Eo.HOME,{sortBy:m,sortOrder:x==="asc"?"desc":"asc"}),r[4]=x,r[5]=k):k=r[5];const P=k,w=Nu;let O;if(r[6]!==P||r[7]!==E||r[8]!==u||r[9]!==a||r[10]!==n){const m=[{id:"map",title:n("summaryMap"),layout:{w:6,h:8,x:6,y:0}},{id:"avgSpeed",title:n("summaryAvgSpeed"),sourceField:"avgSpeed",unitDescription:"km/h",props:{background:"#89c475"},layout:{w:2,h:2,x:0,y:0},href:P("speed")},{id:"totalDistance",title:n("summaryTotalDistance"),sourceField:"totalDistance",unitDescription:"km",props:{background:"#4b9fca"},layout:{w:2,h:2,x:2,y:0},href:P("distance")},{id:"movingVehicles",title:n("summaryMovingVehicles"),sourceField:"movingVehicles",layout:{w:2,h:2,x:0,y:6},unitDescription:"",href:w("Moving")},{id:"idleVehicles",title:n("summaryIdleVehicles"),sourceField:"idleVehicles",layout:{w:2,h:2,x:2,y:6},unitDescription:"",href:w("Idle")},{id:"chargingVehicles",title:n("summaryChargingVehicles"),sourceField:"chargingVehicles",layout:{w:2,h:2,x:4,y:6},unitDescription:"",href:w("Charging")},{id:"batteryLevel",title:n("telemetryTitleBatteryLevel"),isGauge:!0,segments:Po(),sourceField:"avgBattery",layout:{w:2,h:2,x:4,y:0},unitDescription:"%",href:P("batteryLevel")},{id:"batteryHealth",title:n("telemetryTitleBatteryHealth"),isGauge:!0,segments:Lo(),sourceField:"avgBatteryHealth",layout:{w:2,h:2,x:4,y:2},unitDescription:"%",href:P("batteryHealth")},{id:"avgEstimatedRange",title:n("summaryAvgEstimatedRange"),sourceField:"avgEstimatedRange",unitDescription:"km",layout:{w:2,h:2,x:2,y:2},href:P("estimatedRange")},{id:"avgBatteryTemperature",title:n("summaryAvgBatteryTemperature"),sourceField:"avgBatteryTemperature",unitDescription:"Â°C",layout:{w:2,h:2,x:2,y:4},href:P("batteryTemperature")},{id:"avgMotorTemperature",title:n("summaryAvgMotorTemperature"),sourceField:"avgMotorTemperature",unitDescription:"Â°C",layout:{w:2,h:2,x:0,y:4},href:P("motorTemperature")},{id:"lowestEfficiency",title:n("summaryLowestEfficiency"),sourceField:"lowestEfficiency",unitDescription:"%",layout:{w:2,h:2,x:4,y:4},href:P("gridToWheelEfficiency")},{id:"highestEfficiency",title:n("summaryHighestEfficiency"),sourceField:"highestEfficiency",unitDescription:"%",layout:{w:2,h:2,x:0,y:8},href:P("gridToWheelEfficiency")},{id:"highestIdleEnergyLoss",title:n("summaryHighestIdleEnergyLoss"),sourceField:"highestIdleEnergyLoss",unitDescription:"Wh/h",layout:{w:2,h:2,x:0,y:2},href:P("idleEnergyLoss")}],c=G=>v(tt=>{const Y=tt.includes(G)?tt.filter(ot=>ot!==G):[...tt,G];return Ee(yo,Y),Y});let h;r[12]===Symbol.for("react.memo_cache_sentinel")?(h=()=>d(Bu),r[12]=h):h=r[12];const p=h,b=Au,y=m.map(G=>({label:G.title,value:G.id,onClick:()=>c(G.id),checked:!E.includes(G.id)}));let T;r[13]!==n?(T=n("summaryStatisticsForAllVehicles"),r[13]=n,r[14]=T):T=r[14];let _;r[15]!==T?(_=j.jsx("h2",{children:T}),r[15]=T,r[16]=_):_=r[16];let S;r[17]!==u||r[18]!==y||r[19]!==n?(S=!u&&j.jsx(Ro,{title:n("commonTitleSettings"),isRounded:!0,isTransparent:!0,options:y,children:j.jsx(Mo,{size:20})}),r[17]=u,r[18]=y,r[19]=n,r[20]=S):S=r[20];let A;r[21]!==u||r[22]!==n?(A=n(u?"commonTitleExpand":"commonTitleCollapse"),r[21]=u,r[22]=n,r[23]=A):A=r[23];let H;r[24]!==u?(H=u?j.jsx(za,{size:20}):j.jsx(Ra,{size:20}),r[24]=u,r[25]=H):H=r[25];let W;r[26]!==H||r[27]!==A?(W=j.jsx(gn,{title:A,onClick:p,isRounded:!0,isTransparent:!0,children:H}),r[26]=H,r[27]=A,r[28]=W):W=r[28];let Z;r[29]!==W||r[30]!==S?(Z=j.jsxs("div",{className:"summary__actions",children:[S,W]}),r[29]=W,r[30]=S,r[31]=Z):Z=r[31];let V;r[32]!==Z||r[33]!==_?(V=j.jsxs("div",{className:"summary__title",children:[_,Z]}),r[32]=Z,r[33]=_,r[34]=V):V=r[34],O=j.jsxs("div",{className:"summary__wrapper",children:[V,a&&!u&&j.jsx(Du,{className:"summary__layout",layouts:{lg:m.filter(G=>{const{id:tt}=G;return!E.includes(tt)}).map(Iu)},breakpoints:{lg:1200,md:986,sm:560},cols:{lg:12,md:6,sm:4},rowHeight:60,width:1200,draggableHandle:".data-plate__title",isDraggable:!0,isResizable:!1,onLayoutChange:b,children:m.filter(G=>{const{id:tt}=G;return!E.includes(tt)}).map(G=>{const{id:tt,href:Y,title:ot,sourceField:K,unitDescription:pt,segments:$,props:Q}=G;return j.jsx("div",{children:tt==="map"?j.jsx(Eu,{title:ot}):j.jsx(ko,{title:ot,value:a[K]||0,unitDescription:pt,segments:$,href:Y,...Q})},tt)})})]}),r[6]=P,r[7]=E,r[8]=u,r[9]=a,r[10]=n,r[11]=O}else O=r[11];return O}function Iu(r){const{id:n,layout:a}=r;return{...Ru[n]??a,i:n}}function Au(r){Ee(ts,r)}function Bu(r){return Ee(Qo,!r),!r}function Nu(r){return Oo(Eo.HOME,{mode:r})}function Gu(){const r=Rt.c(5),{startTelemetryUpdates:n,stopTelemetryUpdates:a}=So();let l,u;r[0]!==n||r[1]!==a?(l=()=>(n(),()=>{a()}),u=[n,a],r[0]=n,r[1]=a,r[2]=l,r[3]=u):(l=r[2],u=r[3]),ut.useEffect(l,u);let d;return r[4]===Symbol.for("react.memo_cache_sentinel")?(d=j.jsxs(j.Fragment,{children:[j.jsx(ku,{}),j.jsx(Sl,{})]}),r[4]=d):d=r[4],d}export{Gu as default};
